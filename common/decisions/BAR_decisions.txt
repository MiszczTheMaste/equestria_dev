BAR_ambrosius_boredoom = {
	bar_cpt_quest = {
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_plants
		}
		icon = daggers
		fire_only_once = yes
		cost = 10
		days_remove = 7
		ai_will_do = {
			factor = 1000
			modifier = {
				not = {
					has_country_flag = BAR_ai_ambrosius_west
				}
				factor = 0
			}
		}
		remove_effect = {
			clr_country_flag = barrad_plants
			country_event = {
				id = barrad_third.8
			}
		}
	}
	BAR_ambrosius_boredom = {
		visible = {
			hidden_trigger = {
				has_country_flag = barrad_early_game
			}
		}
		allowed = {
			always = no
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					hidden_trigger = {
						has_country_flag = barrad_early_game
					}
				}
			}
		}
		available = {
			always = no
		}
		icon = pawn
		selectable_mission = yes
		days_mission_timeout = 35
		is_good = no
		days_remove = 0
		fixed_random_seed = no
		timeout_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_ambrosius_boredom"
				set_variable_to_random = {
					var = amb_bor
					min = 1
					max = 31
					integer = yes
				}
				
				country_event = {
					id = bar_ambrosius_madness.1
				}
				activate_mission = BAR_ambrosius_boredom
			}
		}
	}
	bar_create_intel_agency = {
		allowed = {
			original_tag = BAR
		}
		visible = {
			can_create_intelligence_agency = yes
			has_intelligence_agency = no
			has_country_flag = barrad_early_game
		}
		available = {
			has_intelligence_agency = no
			has_country_flag = barrad_early_game
		}
		icon = daggers
		fire_only_once = yes
		cost = 150
		ai_will_do = {
			factor = 1000
		}
		complete_effect = {
			create_intelligence_agency = {
				name = "Watchers in the Darkness"
				icon = GFX_intelligence_agency_logo_ded
			}
			add_ideas = BAR_agency_bonus
		}
	}
}

BAR_strike_the_earth_cat = {
}

BAR_silver_star_cat = {
	BAR_reactor_build_silver = {
		icon = GFX_decision_generic_construction
		days_remove = 12
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = BAR_nuclear_construction
			
			check_variable = {
				BAR_nuclear_progress < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_silver > 99
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_resources_silver > 99
			}
		}
		custom_cost_text = silver_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_progress < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_progress = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_progress = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_silver_resources_subtract = yes
		}
	}
	BAR_reactor_research_silver = {
		icon = GFX_decision_generic_research
		days_remove = 12
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
			
			NOT = {
				has_tech = nuclear_reactor
			}
			check_variable = {
				BAR_nuclear_research < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_silver > 99
			}
			NOT = {
				has_tech = nuclear_reactor
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_resources_silver > 99
			}
		}
		custom_cost_text = silver_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_research < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_research = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_research = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_silver_resources_subtract = yes
			custom_effect_tooltip = BAR_reactor_research_tooltip
		}
	}
	BAR_silver_doc_bonus = {
		icon = GFX_decision_generic_army_support
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
		}
		available = {
			BAR_resources_above_silver_1000 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_silver_1000 = yes
		}
		custom_cost_text = silver_resources_over_1000_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_dev_up"
			bar_silver_resources_subtract_1000 = yes
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_raise_spook_bois = {
		icon = GFX_decision_griffon_bandits
		days_remove = 15
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
		}
		available = {
			BAR_resources_above_silver_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_silver_500 = yes
		}
		custom_cost_text = silver_resources_over_500_text
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_raise_spook_bois"
			bar_silver_resources_subtract_500 = yes
			hidden_effect = {
				set_variable_to_random = {
					var = manpower_rand_var
					min = 1
					max = 40000
					integer = yes
				}
				add_manpower = manpower_rand_var
				clear_variable = manpower_rand_var
			}
			custom_effect_tooltip = BAR_silver_raise_skeletons
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 1
			}
		}
	}
	BAR_silver_steal_from_leopold = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			check_variable = {
				BAR_relations_silver_leopold > 30
			}
		}
		cost = 15
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_leopold
						}
						multiply_temp_variable = {
							temp_l_r = 0.1
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_leopold = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_leopold_tooltip
			subtract_from_variable = {
				var = BAR_relations_silver_leopold
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_steal_from_asinti = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			check_variable = {
				BAR_relations_asinti_silver > 30
			}
		}
		cost = 15
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_asinti
						}
						multiply_temp_variable = {
							temp_l_r = 0.1
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_asinti = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_asinti_tooltip
			subtract_from_variable = {
				var = BAR_relations_asinti_silver
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_steal_from_viira = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		available = {
			check_variable = {
				BAR_relations_silver_viira > 30
			}
		}
		cost = 20
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_viira
						}
						multiply_temp_variable = {
							temp_l_r = 0.1
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_viira = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_viira_tooltip
			subtract_from_variable = {
				var = BAR_relations_silver_viira
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_steal_from_leopold_2 = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			check_variable = {
				BAR_relations_silver_leopold < 31
			}
		}
		cost = 20
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_leopold
						}
						multiply_temp_variable = {
							temp_l_r = 0.2
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_leopold = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_leopold_2_tooltip
			subtract_from_variable = {
				var = BAR_relations_silver_leopold
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_steal_from_asinti_2 = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			check_variable = {
				BAR_relations_asinti_silver < 31
			}
		}
		cost = 20
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_asinti
						}
						multiply_temp_variable = {
							temp_l_r = 0.2
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_asinti = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_asinti_2_tooltip
			subtract_from_variable = {
				var = BAR_relations_asinti_silver
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_steal_from_viira_2 = {
		icon = GFX_decision_scroll
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			check_variable = {
				BAR_relations_silver_viira < 31
			}
		}
		cost = 20
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_steal_from_leopold"
			hidden_effect = {
				random_list = {
					70 = {
						set_temp_variable = {
							temp_l_r = BAR_resources_viira
						}
						multiply_temp_variable = {
							temp_l_r = 0.2
						}
						round_temp_variable = temp_l_r
						subtract_from_variable = {
							BAR_resources_viira = temp_l_r
						}
						add_to_variable = {
							BAR_resources_silver = temp_l_r
						}
					}
					30 = {
					}
				}
			}
			custom_effect_tooltip = BAR_silver_steal_from_viira_2_tooltip
			subtract_from_variable = {
				var = BAR_relations_silver_viira
				value = 5
			}
			BAR_relations_idea_swap = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
}

BAR_silver_star_convert_cat = {
	BAR_silver_star_convert_population = {
		fire_only_once = yes
		state_target = yes
		target_array = owned_states
		on_map_mode = map_only
		icon = daggers
		days_remove = 120
		cost = 30
		allowed = {
			original_tag = BAR
		}
		target_root_trigger = {
			has_country_flag = BAR_undead_convert
		}
		visible = {
			FROM = {
				is_controlled_by = ROOT
				NOT = {
					state_population < 0
				}
				OR = {
					is_core_of = ZES
					is_core_of = OLV
					is_core_of = WIT
					is_core_of = FRE
					is_core_of = NIM
					is_core_of = RIV
					is_core_of = LCT
					is_core_of = DEP
					is_core_of = BAK
					is_core_of = FIR
					is_core_of = WAT
					is_core_of = FBK
				}
			}
		}
		remove_effect = {
			FROM = {
				BAR_population_convert = yes
			}
		}
	}
}

BAR_leopold_cat = {
	bar_ongoing_activity_mission = {
		visible = {
			hidden_trigger = {
				has_country_flag = bar_ongoing_activity
				has_country_flag = barrad_early_game
			}
		}
		allowed = {
			always = no
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					hidden_trigger = {
						has_country_flag = barrad_early_game
					}
				}
			}
		}
		available = {
			always = no
		}
		icon = GFX_decision_sombra_tea
		selectable_mission = yes
		days_mission_timeout = 15
		is_good = yes
		days_remove = 0
		fixed_random_seed = no
		timeout_effect = {
			set_variable_to_random = {
				var = activity_dice_roll
				min = 0
				max = 100
				integer = yes
			}
			if = {
				limit = {
					check_variable = {
						activity_dice_roll > bar_activity_fail_check
					}
				}
				country_event = {
					id = barrad_friends_activites.1
				}
			}
			else = {
				country_event = {
					id = barrad_friends_activites.2
				}
			}
		}
	}
	bar_plan_activity = {
		visible = {
			hidden_trigger = {
				has_country_flag = barrad_early_game
				NOT = {
					has_completed_focus = BAR_begin_building
				}
			}
		}
		allowed = {
			always = yes
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					hidden_trigger = {
						has_country_flag = barrad_early_game
					}
				}
			}
		}
		available = {
			always = yes
		}
		icon = GFX_decision_sombra_tea
		days_remove = 0
		complete_effect = {
			set_variable = {
				bar_friendship_activity_show = 1
			}
		}
	}
	BAR_reactor_build_leopold = {
		icon = GFX_decision_generic_construction
		days_remove = 7
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = BAR_nuclear_construction
			
			check_variable = {
				BAR_nuclear_progress < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_leopold > 99
			}
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_progress < 100
				}
				
				has_country_flag = BAR_nuclear_construction
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_resources_leopold > 99
			}
		}
		custom_cost_text = leopold_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_progress < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_progress = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_progress = 100
				}
			}
			set_variable = {
				BAR_resource_to_modify_ammount = 100
			}
			bar_leopold_resources_subtract = yes
		}
	}
	BAR_reactor_research_leopold = {
		icon = GFX_decision_generic_research
		days_remove = 7
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
			NOT = {
				has_tech = nuclear_reactor
			}
			
			check_variable = {
				BAR_nuclear_research < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_leopold > 99
			}
			NOT = {
				has_tech = nuclear_reactor
			}
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_research < 100
				}
				
				hidden_trigger = {
					has_country_flag = BAR_nuclear_research
				}
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_resources_leopold > 99
			}
		}
		custom_cost_text = leopold_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_research < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_research = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_research = 100
				}
			}
			set_variable = {
				BAR_resource_to_modify_ammount = 100
			}
			bar_leopold_resources_subtract = yes
			custom_effect_tooltip = BAR_reactor_research_tooltip
		}
	}
	BAR_leopold_dev_up = {
		icon = GFX_decision_modern_city
		days_remove = 120
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_leopold_1500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_leopold_1500 = yes
		}
		custom_cost_text = leopold_resources_over_1500_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			increase_society_development_gradual = yes
			bar_leopold_resources_subtract_1500 = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 5
			}
		}
	}
	BAR_leopold_weapon_tinkerink = {
		icon = GFX_decision_generic_prepare_civil_war
		days_remove = 14
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
		}
		available = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_text = leopold_resources_over_500_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			bar_leopold_resources_subtract_500 = yes
			army_experience = 30
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 1
			}
		}
	}
	BAR_leopold_air_xp = {
		icon = GFX_decision_generic_prepare_civil_war
		days_remove = 14
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
		}
		available = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_text = leopold_resources_over_500_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			bar_leopold_resources_subtract_500 = yes
			air_experience = 30
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 1
			}
		}
	}
	BAR_leopold_naval_xp = {
		icon = GFX_decision_generic_prepare_civil_war
		days_remove = 14
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
		}
		available = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_leopold_500 = yes
		}
		custom_cost_text = leopold_resources_over_500_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			bar_leopold_resources_subtract_500 = yes
			navy_experience = 30
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 1
			}
		}
	}
}

BAR_asinti_cat = {
	BAR_reactor_build_asinti = {
		icon = GFX_decision_generic_construction
		days_remove = 7
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = BAR_nuclear_construction
			
			check_variable = {
				BAR_nuclear_progress < 100
			}
		}
		available = {
			BAR_resources_above_asinti_100 = yes
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_progress < 100
				}
				
				has_country_flag = BAR_nuclear_construction
			}
		}
		custom_cost_trigger = {
			BAR_resources_above_asinti_100 = yes
		}
		custom_cost_text = asinti_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_progress < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_progress = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_progress = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_asinti_resources_subtract = yes
		}
	}
	BAR_reactor_research_asinti = {
		icon = GFX_decision_generic_research
		days_remove = 7
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
			
			check_variable = {
				BAR_nuclear_research < 100
			}
			NOT = {
				has_tech = nuclear_reactor
			}
		}
		available = {
			BAR_resources_above_asinti_100 = yes
			NOT = {
				has_tech = nuclear_reactor
			}
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_research < 100
				}
				
				hidden_trigger = {
					has_country_flag = BAR_nuclear_research
				}
			}
		}
		custom_cost_trigger = {
			BAR_resources_above_asinti_100 = yes
		}
		custom_cost_text = asinti_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_research < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_research = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_research = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_asinti_resources_subtract = yes
			custom_effect_tooltip = BAR_reactor_research_tooltip
		}
	}
	BAR_asinti_dev_up = {
		icon = GFX_decision_modern_city
		days_remove = 90
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_asinti_1000 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_asinti_1000 = yes
		}
		custom_cost_text = asinti_resources_over_1500_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
			increase_society_development_gradual = yes
			bar_asinti_resources_subtract_1000 = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 5
			}
		}
	}
	BAR_asinti_summon_more_demons = {
		icon = GFX_decision_sombra_crystals
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
		}
		available = {
			BAR_resources_above_asinti_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_asinti_500 = yes
		}
		custom_cost_text = asinti_resources_over_500_text
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
			bar_asinti_resources_subtract_500 = yes
			hidden_effect = {
				random_list = {
					20 = {
						add_stability = 0.01
					}
					20 = {
						add_stability = 0.02
					}
					20 = {
						add_stability = 0.03
					}
					20 = {
						add_stability = 0.04
					}
					20 = {
						add_stability = 0.05
					}
				}
			}
			custom_effect_tooltip = BAR_asinti_summon_more_demons_tooltip
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 0.2
			}
		}
	}
	BAR_asinti_rally_for_the_cause = {
		icon = GFX_decision_sombra_crystals
		days_remove = 30
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
			
		}
		available = {
			BAR_resources_above_asinti_500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_asinti_500 = yes
		}
		custom_cost_text = asinti_resources_over_500_text
		fixed_random_seed = no
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
			bar_asinti_resources_subtract_500 = yes
			hidden_effect = {
				random_list = {
					20 = {
						add_war_support = 0.01
					}
					20 = {
						add_war_support = 0.02
					}
					20 = {
						add_war_support = 0.03
					}
					20 = {
						add_war_support = 0.04
					}
					20 = {
						add_war_support = 0.05
					}
				}
			}
			custom_effect_tooltip = BBAR_asinti_rally_for_the_cause_tooltip
		}
		ai_will_do = {
			factor = 50
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 0.2
			}
		}
	}
}

BAR_viira_cat = {
	bar_vir_quest = {
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = bar_viira_investigation_step_6
			NOT = {
				has_completed_focus = BAR_begin_building
			}
		}
		available = {
			NOT = {
				has_completed_focus = BAR_begin_building
			}
		}
		icon = daggers
		fire_only_once = yes
		cost = 10
		days_remove = 7
		remove_effect = {
			country_event = {
				id = barrad_third.10
			}
		}
	}
	BAR_search_in_silver_library = {
		icon = GFX_decision_sombra_book
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_investigation_step_10
				
				
			}
		}
		available = {
			hidden_trigger = {
				has_country_flag = bar_viira_investigation_step_10
				
				
			}
		}
		complete_effect = {
			country_event = {
				id = bar_viira_murders.1
			}
		}
	}
	BAR_collapse_temple = {
		icon = GFX_decision_sombra_book
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_investigation_step_11
				
				
				NOT = {
					
					
				}
				OR = {
					has_idea = BAR_temple_construct_z_f_p
					has_idea = BAR_temple_construct_z_l_p
					has_idea = BAR_temple_construct_z_f_g
					has_idea = BAR_temple_construct_z_l_g
					has_idea = BAR_temple_construct_d_f_p
					has_idea = BAR_temple_construct_d_l_p
					has_idea = BAR_temple_construct_d_f_g
					has_idea = BAR_temple_construct_d_l_g
				}
				BAR_resources_above_viira_1000 = yes
			}
		}
		available = {
			hidden_trigger = {
				has_country_flag = bar_viira_investigation_step_11
				
				
				NOT = {
					
					
				}
				OR = {
					has_idea = BAR_temple_construct_z_f_p
					has_idea = BAR_temple_construct_z_l_p
					has_idea = BAR_temple_construct_z_f_g
					has_idea = BAR_temple_construct_z_l_g
					has_idea = BAR_temple_construct_d_f_p
					has_idea = BAR_temple_construct_d_l_p
					has_idea = BAR_temple_construct_d_f_g
					has_idea = BAR_temple_construct_d_l_g
				}
				BAR_resources_above_viira_1000 = yes
			}
		}
		complete_effect = {
			country_event = {
				id = bar_viira_murders.3
			}
		}
	}
	BAR_reactor_build_viira = {
		days_remove = 7
		icon = GFX_decision_generic_construction
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = BAR_nuclear_construction
			
			check_variable = {
				BAR_nuclear_progress < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_viira > 99
			}
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_progress < 100
				}
				
				has_country_flag = BAR_nuclear_construction
			}
		}
		custom_cost_trigger = {
			BAR_resources_above_viira_100 = yes
		}
		custom_cost_text = viira_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_progress < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_progress = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_progress = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_viira_resources_subtract = yes
		}
	}
	BAR_reactor_research_viira = {
		days_remove = 7
		icon = GFX_decision_generic_research
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
			NOT = {
				has_tech = nuclear_reactor
			}
			
			check_variable = {
				BAR_nuclear_research < 100
			}
		}
		available = {
			check_variable = {
				BAR_resources_viira > 99
			}
			NOT = {
				has_tech = nuclear_reactor
			}
			hidden_trigger = {
				check_variable = {
					BAR_nuclear_research < 100
				}
				
				hidden_trigger = {
					has_country_flag = BAR_nuclear_research
				}
			}
		}
		custom_cost_trigger = {
			BAR_resources_above_viira_100 = yes
		}
		custom_cost_text = viira_resources_over_100_text
		complete_effect = {
			if = {
				limit = {
					check_variable = {
						BAR_nuclear_research < 90
					}
				}
				add_to_variable = {
					BAR_nuclear_research = 10
				}
			}
			else = {
				set_variable = {
					BAR_nuclear_research = 100
				}
			}
			add_to_variable = {
				var = BAR_resource_to_modify_ammount
				value = 100
			}
			bar_viira_resources_subtract = yes
			custom_effect_tooltip = BAR_reactor_research_tooltip
		}
	}
	BAR_viira_trade_with_cultists_mil = {
		icon = GFX_decision_modern_city
		days_remove = 60
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
		}
		available = {
			BAR_resources_above_viira_1500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_viira_1500 = yes
		}
		custom_cost_text = viira_resources_over_1000_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_dev_up"
			one_random_arms_factory = yes
			bar_viira_resources_subtract_1500 = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 5
			}
		}
	}
	BAR_viira_trade_with_cultists_civ = {
		icon = GFX_decision_modern_city
		days_remove = 60
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = barrad_early_game
		}
		available = {
			BAR_resources_above_viira_1500 = yes
		}
		custom_cost_trigger = {
			BAR_resources_above_viira_1500 = yes
		}
		custom_cost_text = viira_resources_over_1000_text
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_dev_up"
			one_random_arms_factory = yes
			bar_viira_resources_subtract_1500 = yes
		}
		ai_will_do = {
			factor = 20
			modifier = {
				has_country_flag = BAR_ai_amb_default
				factor = 5
			}
		}
	}
}

BAR_silver_undead_buffs = {
	BAR_un_buff_change_timeout = {
		allowed = {
			original_tag = BAR
		}
		visible = {
			original_tag = BAR
			hidden_trigger = {
				has_variable = bar_silver_star_army_bonuses
			}
		}
		available = {
			always = no
		}
		activation = {
			always = no
		}
		timeout_effect = {
			clr_country_flag = bar_silver_star_undead_buff_cooldown
		}
		icon = GFX_decision_oppression
		selectable_mission = yes
		days_mission_timeout = 14
		is_good = yes
		days_remove = 0
	}
}

BAR_reactor_construction = {
	BAR_finish_reactor = {
		icon = GFX_decision_generic_construction
		cost = 50
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_construction
			}
		}
		available = {
			check_variable = {
				BAR_nuclear_progress > 99
			}
			hidden_trigger = {
				has_country_flag = BAR_nuclear_construction
			}
		}
		complete_effect = {
			624 = {
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				clr_country_flag = BAR_nuclear_construction
				clear_variable = BAR_nuclear_progress
			}
		}
		ai_will_do = {
			factor = 500
		}
	}
}

BAR_reactor_research = {
	BAR_finish_research = {
		icon = GFX_decision_sombra_book
		cost = 50
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
			NOT = {
				has_tech = nuclear_reactor
			}
		}
		available = {
			check_variable = {
				BAR_nuclear_research > 99
			}
			NOT = {
				has_tech = nuclear_reactor
			}
			hidden_trigger = {
				has_country_flag = BAR_nuclear_research
			}
		}
		complete_effect = {
			set_technology = {
				nuclear_reactor = 1
			}
			hidden_effect = {
				clr_country_flag = BAR_nuclear_research
				clear_variable = BAR_nuclear_research
			}
		}
		ai_will_do = {
			factor = 500
		}
	}
}

BAR_viira_spells = {
	BAR_viira_spell_upgrade_1 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
			}
		}
		available = {
			nuclear_reactor > 2
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_1"
			}
			BAR_unlock_spells_1 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_2 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_1
			}
		}
		available = {
			nuclear_reactor > 5
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_2"
			}
			BAR_unlock_spells_2 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_3 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_2
			}
		}
		available = {
			nuclear_reactor > 8
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_3"
			}
			BAR_unlock_spells_3 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_4 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_3
			}
		}
		available = {
			nuclear_reactor > 11
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_4"
			}
			BAR_unlock_spells_4 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_5 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_4
			}
		}
		available = {
			nuclear_reactor > 14
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_5"
			}
			BAR_unlock_spells_5 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_6 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_5
			}
		}
		available = {
			nuclear_reactor > 17
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_6"
			}
			BAR_unlock_spells_6 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_7 = {
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_6
			}
		}
		available = {
			nuclear_reactor > 20
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_7"
			}
			BAR_unlock_spells_7 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_upgrade_8 = {
		#true goodhood
		icon = GFX_BAR_viira_spell_upgrade
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = bar_viira_spells_upgrade_unlock
				has_country_flag = BAR_spells_unlocked_7
			}
		}
		available = {
			nuclear_reactor > 30
			custom_trigger_tooltip = {
				tooltip = BAR_viira_spell_upgrade_8_unlock_tooltip
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_1
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_2
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_3
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_4
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_5
				}
				OR = {
					BAR_viira_lehtola = {
						has_trait = bar_viira_title_6
					}
					BAR_viira_lehtola = {
						has_trait = bar_viira_title_6_bba
					}
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_7
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_8
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_9
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_10
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_11
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_12
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_13
				}
				BAR_viira_lehtola = {
					has_trait = bar_viira_title_14
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_upgrade_8"
			}
			BAR_unlock_spells_8 = yes
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_spread_zone = {
		fire_only_once = yes
		state_target = yes
		target_array = owned_states
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_zone_mode
			}
			FROM = {
				is_controlled_by = ROOT
				NOT = {
					has_state_flag = BAR_climate
				}
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				NOT = {
					has_state_flag = BAR_climate
				}
			}
		}
		icon = GFX_BAR_viira_spread_zone_button
		days_remove = 15
		remove_effect = {
			FROM = {
				set_state_flag = BAR_climate
				if = {
					limit = {
						ROOT = {
							has_country_flag = BAR_spells_unlocked_4
						}
					}
					add_province_modifier = {
						static_modifiers = {
							barrad_climate4
						}
						province = {
							all_provinces = yes
						}
					}
					add_resistance_target = {
						amount = -20
						occupier = BAR
					}
					add_compliance = 40
				}
				else = {
					add_province_modifier = {
						static_modifiers = {
							barrad_climate3
						}
						province = {
							all_provinces = yes
						}
					}
					add_resistance_target = {
						amount = -10
						occupier = BAR
					}
					add_compliance = 20
				}
			}
			ROOT = {
				if = {
					limit = {
						has_country_leader_with_trait = bar_viira_title_10
					}
					add_to_variable = {
						viira_mana_overload = 1
					}
				}
				else = {
					add_to_variable = {
						viira_mana_overload = 5
					}
				}
				bar_viira_spells_max_overload = yes
			}
		}
	}
	BAR_viira_nuke = {
		state_target = yes
		on_map_mode = map_only
		icon = GFX_BAR_viira_nuke_button
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_nuke_mode
			}
			FROM = {
				NOT = {
					is_controlled_by = ROOT
				}
				any_neighbor_state = {
					is_controlled_by = ROOT
				}
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
					has_country_flag = BAR_spells_unlocked_4
				}
				launch_nuke = {
					state = FROM
					use_nuke = no
				}
			}
			launch_nuke = {
				state = FROM
				use_nuke = no
			}
			add_to_variable = {
				viira_mana_overload = 10
			}
			bar_viira_spells_max_overload = yes
		}
	}
	BAR_viira_spell_x_decay = {
		icon = GFX_BAR_viira_decay_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_x_decay_mode
			}
			FROM = {
				is_capital = yes
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		available = {
			FROM = {
				CONTROLLER = {
					NOT = {
						has_idea = BAR_viira_spell_x_decay_idea
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_x_decay"
				FROM = {
					CONTROLLER = {
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_3
								}
							}
							add_timed_idea = {
								idea = BAR_viira_spell_x_decay_idea_2
								days = 21
							}
						}
						else = {
							add_timed_idea = {
								idea = BAR_viira_spell_x_decay_idea
								days = 14
							}
						}
					}
				}
				add_to_variable = {
					viira_mana_overload = 5
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_x_decay_tooltip
		}
		days_remove = 14
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_gas = {
		icon = GFX_BAR_viira_gas_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_spell_gas_mode
			}
			FROM = {
				is_capital = yes
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		available = {
			FROM = {
				CONTROLLER = {
					NOT = {
						has_idea = BAR_viira_spell_gas_idea
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_gas"
				FROM = {
					CONTROLLER = {
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_3
								}
							}
							add_timed_idea = {
								idea = BAR_viira_spell_gas_idea_2
								days = 21
							}
						}
						else = {
							add_timed_idea = {
								idea = BAR_viira_spell_gas_idea
								days = 14
							}
						}
					}
				}
				add_to_variable = {
					viira_mana_overload = 5
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_gas_tooltip
		}
		days_remove = 14
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_electromagnetism = {
		icon = GFX_BAR_viira_electromagnetism_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_electromagnetism_mode
			}
			FROM = {
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_electromagnetism"
				FROM = {
					if = {
						limit = {
							ROOT = {
								has_country_flag = BAR_spells_unlocked_3
							}
						}
						damage_building = {
							type = infrastructure
							damage = 10
						}
						damage_building = {
							type = arms_factory
							damage = 10
						}
						damage_building = {
							type = industrial_complex
							damage = 10
						}
					}
					else = {
						damage_building = {
							type = infrastructure
							damage = 4
						}
						damage_building = {
							type = arms_factory
							damage = 4
						}
						damage_building = {
							type = industrial_complex
							damage = 4
						}
					}
				}
				add_to_variable = {
					viira_mana_overload = 5
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_electromagnetism_tooltip
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_psi_emission = {
		icon = GFX_BAR_viira_psi_emission_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_psi_emission_mode
			}
			FROM = {
				is_capital = yes
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		available = {
			FROM = {
				CONTROLLER = {
					has_manpower > 0
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_psi_emission"
				FROM = {
					CONTROLLER = {
						if = {
							limit = {
								has_manpower > 1000000
							}
							set_temp_variable = {
								cur_manpower = 1000000
							}
						}
						else = {
							set_temp_variable = {
								cur_manpower = manpower
							}
						}
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_4
								}
							}
							multiply_temp_variable = {
								cur_manpower = 0.1
							}
						}
						else = {
							multiply_temp_variable = {
								cur_manpower = 0.05
							}
						}
						round_temp_variable = cur_manpower
						BAR = {
							add_manpower = cur_manpower
						}
						multiply_temp_variable = {
							cur_manpower = -1
						}
						save_current_manpower = yes
						add_manpower = cur_manpower
						restore_previous_manpower = yes
					}
				}
				add_to_variable = {
					viira_mana_overload = 20
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_psi_emission_tooltip
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_incineration = {
		icon = GFX_BAR_viira_incineration_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_incineration_mode
			}
			FROM = {
				is_capital = yes
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		available = {
			FROM = {
				CONTROLLER = {
					NOT = {
						has_idea = BAR_viira_spell_incineration_idea
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_gas"
				FROM = {
					CONTROLLER = {
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_3
								}
							}
							add_timed_idea = {
								idea = BAR_viira_spell_incineration_idea_2
								days = 21
							}
						}
						else = {
							add_timed_idea = {
								idea = BAR_viira_spell_incineration_idea
								days = 14
							}
						}
					}
				}
				add_to_variable = {
					viira_mana_overload = 5
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_incineration_tooltip
		}
		days_remove = 14
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_earthshocks = {
		icon = GFX_BAR_viira_aftershocks_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_earthshocks_mode
			}
			FROM = {
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_earthshocks"
				FROM = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
					damage_building = {
						type = arms_factory
						damage = 3
					}
					damage_building = {
						type = industrial_complex
						damage = 3
					}
					CONTROLLER = {
						if = {
							limit = {
								has_manpower > 1000000
							}
							set_temp_variable = {
								cur_manpower = 1000000
							}
						}
						else = {
							set_temp_variable = {
								cur_manpower = manpower
							}
						}
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_3
								}
							}
							multiply_temp_variable = {
								cur_manpower = -0.07
							}
						}
						else = {
							multiply_temp_variable = {
								cur_manpower = -0.03
							}
						}
						save_current_manpower = yes
						round_temp_variable = cur_manpower
						add_manpower = cur_manpower
						restore_previous_manpower = yes
					}
				}
				add_to_variable = {
					viira_mana_overload = 8
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_earthshocks_tooltip
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_global_psi_emission = {
		icon = GFX_BAR_viira_global_psi_emission_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_global_psi_emission_mode
			}
			FROM = {
				is_capital = yes
				CONTROLLER = {
					has_war_with = ROOT
				}
			}
		}
		available = {
			FROM = {
				OR = {
					AND = {
						ROOT = {
							has_country_flag = BAR_spells_unlocked_4
						}
						CONTROLLER = {
							has_stability > 0.25
							has_war_support > 0.25
						}
					}
					AND = {
						CONTROLLER = {
							has_stability > 0.4
							has_war_support > 0.4
						}
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_global_psi_emission"
				FROM = {
					CONTROLLER = {
						if = {
							limit = {
								ROOT = {
									has_country_flag = BAR_spells_unlocked_4
								}
							}
							add_timed_idea = {
								idea = BAR_viira_spell_global_psi_idea_2
								days = 21
							}
						}
						else = {
							add_timed_idea = {
								idea = BAR_viira_spell_global_psi_idea
								days = 14
							}
						}
					}
				}
				add_to_variable = {
					viira_mana_overload = 15
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_global_psi_emission_tooltip
		}
		days_remove = 14
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_psi_migration = {
		icon = GFX_BAR_viira_psi_migration_button
		state_target = yes
		on_map_mode = map_only
		allowed = {
			original_tag = BAR
		}
		visible = {
			ROOT = {
				has_country_flag = bar_viira_psi_migration_mode
				has_country_flag = BAR_spells_unlocked_1
			}
			FROM = {
				CONTROLLER = {
					tag = BAR
				}
				state_population > 0
			}
		}
		available = {
			FROM = {
				state_population > 0
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_psi_migration"
				FROM = {
					set_temp_variable = {
						popToAdd = state_population
					}
					multiply_temp_variable = {
						popToAdd = 0.2
					}
					save_current_manpower = yes
					626 = {
						add_manpower = popToAdd
					}
					multiply_temp_variable = {
						popToAdd = -1
					}
					add_manpower = popToAdd
					restore_previous_manpower = yes
				}
				add_to_variable = {
					viira_mana_overload = 20
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_global_psi_emission_tooltip
		}
		days_remove = 14
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_sub_zero = {
		icon = GFX_BAR_viira_ice_button
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_sub_zero"
				set_technology = {
					popup = no
					BAR_viira_spells_sub_zero = 1
				}
			}
			add_to_variable = {
				viira_mana_overload = 5
			}
			bar_viira_spells_max_overload = yes
			custom_effect_tooltip = BAR_viira_spell_sub_zero_tooltip
		}
		remove_effect = {
			hidden_effect = {
				set_technology = {
					popup = no
					BAR_viira_spells_sub_zero = 0
				}
			}
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_gravity = {
		icon = GFX_BAR_viira_gravity_button
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_gravity"
				set_technology = {
					popup = no
					BAR_viira_spells_gravity = 1
				}
				add_to_variable = {
					viira_mana_overload = 5
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spell_gravity_tooltip
		}
		remove_effect = {
			hidden_effect = {
				set_technology = {
					popup = no
					BAR_viira_spells_gravity = 0
				}
			}
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_teleport = {
		icon = GFX_BAR_viira_teleport_button
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spells_teleport"
				set_technology = {
					popup = no
					BAR_viira_spells_teleport = 1
				}
				add_to_variable = {
					viira_mana_overload = 10
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_spells_teleport_tooltip
		}
		remove_effect = {
			hidden_effect = {
				set_technology = {
					popup = no
					BAR_viira_spells_teleport = 0
				}
			}
		}
		days_remove = 7
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_tech_inisght = {
		icon = GFX_BAR_viira_tech_inisght_button
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
				has_country_flag = BAR_spells_unlocked_2
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_tech_inisght"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			random_list = {
				10 = {
					add_tech_bonus = {
						name = infantry_bonus
						bonus = 1
						uses = 1
						category = infantry_weapons
					}
				}
				10 = {
					add_tech_bonus = {
						name = infantry_bonus
						bonus = 1
						uses = 1
						category = support_tech
					}
				}
				10 = {
					add_tech_bonus = {
						name = armor_bonus
						bonus = 1
						uses = 1
						category = armor
					}
				}
				10 = {
					add_tech_bonus = {
						name = artillery_bonus
						bonus = 1
						uses = 1
						category = artillery
					}
				}
				10 = {
					add_tech_bonus = {
						name = heavy_air
						bonus = 1.5
						uses = 1
						ahead_reduction = 2
						category = heavy_air
					}
				}
				10 = {
					add_tech_bonus = {
						name = fighter_bonus
						bonus = 1.5
						uses = 1
						ahead_reduction = 2
						category = light_air
					}
				}
				10 = {
					add_tech_bonus = {
						name = industry_bonus
						bonus = 1
						uses = 1
						category = industry
					}
				}
				10 = {
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 1
						uses = 1
						category = electronics
					}
				}
				10 = {
					add_tech_bonus = {
						name = naval_research
						bonus = 1
						uses = 2
						category = naval_equipment
					}
				}
				10 = {
					add_doctrine_cost_reduction = {
						name = land_doc_bonus
						cost_reduction = 0.5
						uses = 1
						category = land_doctrine
					}
					add_doctrine_cost_reduction = {
						name = navdoctrine_bonus
						cost_reduction = 0.5
						uses = 1
						category = naval_doctrine
					}
					add_doctrine_cost_reduction = {
						name = air_doc_bonus
						cost_reduction = 0.5
						uses = 1
						category = air_doctrine
					}
				}
			}
		}
		days_remove = 60
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_conjure_civ_factory = {
		icon = GFX_decision_scroll
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
				has_country_flag = BAR_spells_unlocked_5
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_conjure_civ_factory"
				add_to_variable = {
					viira_mana_overload = 150
				}
				bar_viira_spells_max_overload = yes
			}
			624 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 15
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_conjure_mil_factory = {
		icon = GFX_decision_scroll
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
				has_country_flag = BAR_spells_unlocked_5
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_conjure_mil_factory"
				add_to_variable = {
					viira_mana_overload = 150
				}
				bar_viira_spells_max_overload = yes
			}
			624 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		days_remove = 15
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_conjure_building_slots = {
		icon = GFX_decision_scroll
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
				has_country_flag = BAR_spells_unlocked_5
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_conjure_building_slots"
				add_to_variable = {
					viira_mana_overload = 75
				}
				bar_viira_spells_max_overload = yes
			}
			624 = {
				add_extra_state_shared_building_slots = 2
			}
		}
		days_remove = 10
		ai_will_do = {
			factor = 0
		}
	}
	#########
	#########  #decisions for viira's titles
	#########
	BAR_viira_spell_mirror_of_knowledge = {
		icon = GFX_BAR_viira_mirror_of_knowledge_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_mirror_of_knowledge"
				add_to_variable = {
					viira_mana_overload = 200
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_200
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_2
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_saviour_of_faithful = {
		icon = GFX_BAR_viira_savior_of_faithful_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_saviour_of_faithful"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_5
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_vessel_of_honour = {
		icon = GFX_BAR_viira_vessel_of_honor_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_vessel_of_honour"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_country_leader_trait = bar_viira_title_6_bba
			}
			else = {
				add_country_leader_trait = bar_viira_title_6
			}
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_voice_in_darkness = {
		icon = GFX_BAR_viira_voice_in_darkness_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_voice_in_darkness"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_7
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_mystical_rose = {
		icon = GFX_BAR_viira_mystical_rose_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_mystical_rose"
				add_to_variable = {
					viira_mana_overload = 200
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_200
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_8
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_houseof_gold = {
		icon = GFX_BAR_viira_house_of_gold_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_houseof_gold"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_9
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_gate_of_heavens = {
		#unlocks spell upgrades
		icon = GFX_BAR_viira_gate_of_heaven_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_gate_of_heavens"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_10
			set_country_flag = bar_viira_spells_upgrade_unlock
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_morning_star = {
		icon = GFX_BAR_viira_morning_star_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_morning_star"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_11
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_health_of_sick = {
		icon = GFX_BAR_viira_health_of_sick_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_health_of_sick"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_12
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
	BAR_viira_spell_comfort_of_afflicted = {
		icon = GFX_BAR_viira_comfort_of_afflicted_title
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_variable = BAR_viira_godhood
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_spell_comfort_of_afflicted"
				add_to_variable = {
					viira_mana_overload = 100
				}
				bar_viira_spells_max_overload = yes
			}
			custom_effect_tooltip = BAR_viira_title_100
		}
		remove_effect = {
			add_country_leader_trait = bar_viira_title_14
		}
		days_remove = 30
		ai_will_do = {
			factor = 0
		}
	}
}

BAR_ambrosius_diplomacy = {
	BAR_ambrosius_zes_cosmetic = {
		icon = GFX_decision_statue
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				ZES = {
					is_subject_of = BAR
				}
				has_country_flag = BAR_ambrosius_diplomacy_unlocked
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_ambrosius_bring_order_to_south"
			}
			ZES = {
				set_cosmetic_tag = ZES_BAR_puppet
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_ambrosius_gru_cosmetic = {
		icon = GFX_decision_statue
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				GRU = {
					is_subject_of = BAR
				}
				has_country_flag = BAR_ambrosius_diplomacy_unlocked
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_ambrosius_bring_order_to_south"
			}
			GRU = {
				set_cosmetic_tag = GRU_BAR_puppet
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_ambrosius_gry_cosmetic = {
		icon = GFX_decision_statue
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				GRY = {
					is_subject_of = BAR
				}
				has_country_flag = BAR_ambrosius_diplomacy_unlocked
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_ambrosius_bring_order_to_south"
			}
			GRY = {
				set_cosmetic_tag = GRY_BAR_puppet
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_ambrosius_wit_cosmetic = {
		icon = GFX_decision_statue
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				WIT = {
					is_subject_of = BAR
				}
				has_country_flag = BAR_ambrosius_diplomacy_unlocked
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_ambrosius_bring_order_to_south"
			}
			WIT = {
				set_cosmetic_tag = WIT_BAR_puppet
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
}

BAR_silver_queen = {
	BAR_proclaim_kingdom_of_wittenland = {
		icon = GFX_decision_caticon_princess
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			is_subject = no
			hidden_trigger = {
				has_country_flag = BAR_undead_nation_flag
			}
			OR = {
				NOT = {
					country_exists = WIT
				}
				owns_state = 617
			}
		}
		available = {
			owns_state = 617
			NOT = {
				country_exists = WIT
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_proclaim_kingdom_of_wittenland"
			}
			hidden_effect = {
				if = {
					limit = {
						WIT = {
							has_country_flag = WIT_Challenger_Won_Flag
						}
					}
					country_event = {
						id = barrad_silver.71
						days = 2
					}
				}
				else_if = {
					limit = {
						WIT = {
							has_country_flag = WIT_White_Stat_Won_Flag
						}
					}
					country_event = {
						id = barrad_silver.7
						days = 2
					}
				}
				else_if = {
					limit = {
						WIT = {
							has_country_flag = WIT_Wulfric_Won_Flag
						}
					}
					country_event = {
						id = barrad_silver.72
						days = 2
					}
				}
				else = {
					set_cosmetic_tag = BAR_WIT
				}
				country_event = {
					id = barrad_silver.9
					days = 26
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_proclaim_high_kingdom_of_wittenland = {
		icon = GFX_decision_caticon_princess
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			is_subject = no
			hidden_trigger = {
				has_country_flag = BAR_undead_nation_flag
			}
			has_cosmetic_tag = BAR_WIT
		}
		available = {
			owns_state = 558
			owns_state = 578
			owns_state = 680
			owns_state = 412
			owns_state = 579
			owns_state = 580
			owns_state = 621
			owns_state = 618
			owns_state = 627
			owns_state = 629
			owns_state = 628
			owns_state = 617
			owns_state = 616
			owns_state = 615
			owns_state = 614
			owns_state = 624
			owns_state = 625
			owns_state = 626
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_proclaim_high_kingdom_of_wittenland"
			}
			set_cosmetic_tag = BAR_WIT_high_kingdom
			hidden_effect = {
				country_event = {
					id = barrad_silver.10
					days = 7
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	BAR_proclaim_riverland_empire = {
		icon = GFX_decision_caticon_princess
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			is_subject = no
			hidden_trigger = {
				has_country_flag = BAR_undead_nation_flag
			}
			has_cosmetic_tag = BAR_WIT_high_kingdom
		}
		available = {
			WIT = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			FRE = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			RCT = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			NIM = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			BAK = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			DEP = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			LCT = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			OLV = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
			ZES = {
				all_cores_owned_by_ROOT_or_subject = yes
			}
		}
		complete_effect = {
			hidden_effect = {
				log = "[GetDateText]: [Root.GetName]: Decision BAR_proclaim_riverland_empire"
			}
			set_cosmetic_tag = BAR_RIV
			hidden_effect = {
				country_event = {
					id = barrad_silver.10
					days = 7
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
}

BAR_leopold_empire_decisions = {
	BAR_leopold_empire_form = {
		icon = GFX_decision_ger_military_buildup
		allowed = {
			original_tag = BAR
		}
		available = {
			owns_state = 382
		}
		visible = {
			has_completed_focus = BAR_leopold_conquest
		}
		complete_effect = {
			set_cosmetic_tag = BAR_leopold_empire
		}
		ai_will_do = {
			factor = 100
		}
	}
}

BAR_leopold_decisions = {
	BAR_repair_leopold = {
		icon = GFX_decision_ger_military_buildup
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
		}
		available = {
			check_variable = {
				num_battalions_with_type@bar_leopold_clockwerk = 0
			}
		}
		modifier = {
			civilian_factory_use = 10
		}
		days_remove = 40
		days_re_enable = 90
		cost = 100
		remove_effect = {
			hidden_effect = {
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Leopold Schmeller\" division_template = \"Leopold Schmeller\" start_experience_factor = 0.5 start_equipment_factor = 0.1"
						owner = BAR
					}
				}
			}
			custom_effect_tooltip = BAR_rebuilded_leopold
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_upgrade_clockwerks = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		available = {
			has_tech = BAR_clockwerks
			NOT = {
				has_tech = BAR_clockwerks_upgrade
			}
			OR = {
				has_tech = magical_weapons
				has_tech = magical_weapons1
				has_tech = magical_weapons2
				has_tech = magical_weapons3
			}
		}
		visible = {
			has_tech = BAR_clockwerks
				NOT = {
					has_tech = BAR_clockwerks_upgrade
				}
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_clockwerks_upgrade = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_upgrade_clockwerks_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			NOT = { has_dlc = "No Step Back" }
		}
		available = {
			has_tech = tech_bar_leopold_metal_denser_than_platinium
			has_tech = BAR_clockwerks
			NOT = { has_tech = BAR_leopold_armor_upgrade_1 }
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_leopold_armor_upgrade_1 = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_leopold_armor_upgrade_1_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			NOT = { has_dlc = "No Step Back" }
		}
		available = {
			has_tech = tech_bar_leopold_transparent_metal
			has_tech = BAR_clockwerks
			NOT = { has_tech = BAR_leopold_armor_upgrade_2 }
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_leopold_armor_upgrade_2 = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_leopold_armor_upgrade_2_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			NOT = { has_dlc = "No Step Back" }
		}
		available = {
			has_tech = tech_bar_leopold_crystalic_metal
			has_tech = BAR_clockwerks
			NOT = { has_tech = BAR_leopold_armor_upgrade_3 }
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_leopold_armor_upgrade_3 = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_leopold_armor_upgrade_3_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_4 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			NOT = { has_dlc = "No Step Back" }
		}
		available = {
			has_tech = tech_bar_leopold_new_steel
			has_tech = BAR_clockwerks
			NOT = { has_tech = BAR_leopold_armor_upgrade_4 }
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
			not = { has_tech = tech_bar_leopold_magnetic_glass }
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_leopold_armor_upgrade_4 = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_leopold_armor_upgrade_4_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_5 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			NOT = { has_dlc = "No Step Back" }
		}
		available = {
			has_tech = tech_bar_leopold_metal_lighter_than_air
			has_tech = BAR_clockwerks
			NOT = { has_tech = BAR_leopold_armor_upgrade_5 }
		}
		visible = {
			hidden_trigger = {
				has_tech = bar_leopold_new_body
			}
		}
		cost = 20
		complete_effect = {
			hidden_effect = {
				set_technology = {
					BAR_leopold_armor_upgrade_5 = 1
					popup = no
				}
			}
			custom_effect_tooltip = BAR_leopold_armor_upgrade_5_tooltip
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_armor_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = tech_bar_leopold_metal_denser_than_platinium
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_dense_metal_parts }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_dense_metal_parts = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_armor_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = tech_bar_leopold_metal_denser_than_platinium
			has_tech = tech_bar_leopold_new_steel
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_composite_parts }
			NOT = { has_tech = tech_bar_leopold_magnetic_glass }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_composite_parts = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_armor_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_resources_4
			has_tech = tech_bar_leopold_crystalic_metal
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_crystal_alloy_parts }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_crystal_alloy_parts = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_upgrade_armor_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_resources_4
			has_tech = tech_bar_leopold_new_steel
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_composite_crystal_alloy_parts }
			NOT = { has_tech = tech_bar_leopold_magnetic_glass }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_composite_crystal_alloy_parts = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_cheaper_production = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_resources_4
			has_tech = tech_bar_leopold_transparent_metal
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_cheaper_production }
			NOT = { has_tech = tech_bar_leopold_new_steel }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_cheaper_production = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_magico_mechanical_battery = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = assembly_line_production
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_magico_mechanical_battery }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_magico_mechanical_battery = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_electro_magical_battery = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = future_computing_machine
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_electro_magical_battery }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_electro_magical_battery = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_surreal_battery = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_9
		}
		visible = {
			has_tech = bar_leopold_new_body
			has_tech = bar_leopold_electro_magical_battery
			NOT = { has_tech = bar_leopold_calibrated_electro_magical_battery }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_calibrated_electro_magical_battery = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_surreal_battery = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_9
		}
		visible = {
			has_tech = bar_leopold_new_body
			has_tech = bar_leopold_electro_magical_battery
			NOT = { has_tech = bar_leopold_calibrated_electro_magical_battery }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_calibrated_electro_magical_battery = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_leopold_surreal_titan_battery = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_9
		}
		visible = {
			has_tech = bar_leopold_new_body
			has_tech = bar_leopold_electro_magical_battery
			has_tech = bar_leopold_titan_armor
			NOT = { has_tech = bar_leopold_living_crystal_battery }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_living_crystal_battery = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_anti_air_gun_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = interwar_antiair
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_anti_air_gun_1 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_anti_air_gun_1 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_anti_air_gun_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = antiair2
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_anti_air_gun_2 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_anti_air_gun_2 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_anti_air_gun_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = antiair5
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_anti_air_gun_3 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_anti_air_gun_3 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_anti_air_gun_4 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = antiair_c
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_anti_air_gun_4 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_anti_air_gun_4 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_anti_air_gun_5 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = antiair_f
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_anti_air_gun_5 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_anti_air_gun_5 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_rocket_launcher_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_rocket_launcher_1 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_rocket_launcher_1 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_rocket_launcher_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery4
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_rocket_launcher_2 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_rocket_launcher_2 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_rocket_launcher_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery_c
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_rocket_launcher_3 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_rocket_launcher_3 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_rocket_launcher_4 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery_f
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_rocket_launcher_4 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_rocket_launcher_4 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_crystal_bomb_launcher = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery
			has_tech = nukes
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_crystal_bomb_launcher }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_crystal_bomb_launcher = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_nuke_launcher_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery
			has_tech = nukes_2
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_nuke_launcher_1 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_nuke_launcher_1 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_nuke_launcher_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_artillery
			has_tech = nukes_3
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_nuke_launcher_2 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_nuke_launcher_2 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_flamethrower = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = tech_engineers2
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_flamethrower }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_flamethrower = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_repair_clockworks = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_clockworks
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_repair_clockworks }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_repair_clockworks = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_ancient_machine_computer_support = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_1
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_ancient_machine_computer_support }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_ancient_machine_computer_support = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_clockwork_precision_crystal_eye_polish = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_clockworks_12
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_clockwork_precision_crystal_eye_polish }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_clockwork_precision_crystal_eye_polish = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_esoteric_crystal_eye_calibration = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_9
		}
		visible = {
			has_tech = bar_leopold_new_body
			has_tech = bar_leopold_esoteric_crystal_eye_calibration
			NOT = { has_tech = bar_leopold_clockwork_precision_crystal_eye_polish }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_clockwork_precision_crystal_eye_polish = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_hard_kill_system = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = future_computing_machine
			has_tech = rocket_engines
			has_completed_focus = BAR_leopold_surreal_mathematic_1
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_hard_kill_system }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_hard_kill_system = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_infra_red_vision = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = night_vision2
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_infra_red_vision }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_infra_red_vision = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_rocket_boots = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = rocket_engines
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_rocket_boots }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_rocket_boots = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_jetpack= {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = improved_rocket_engines
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_jetpack }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_jetpack = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_surreal_physics_propulsions = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_surreal_mathematic_9
		}
		visible = {
			has_tech = bar_leopold_new_body
			has_tech = bar_leopold_jetpack
			NOT = { has_tech = bar_leopold_surreal_physics_propulsion }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_surreal_physics_propulsion = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_poison_gas_smoke = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_cultist_warriors
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_poison_gas_smoke }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_poison_gas_smoke = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_combat_gas = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_completed_focus = BAR_leopold_cultist_warriors_5
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_combat_gas }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_combat_gas = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_radar_1 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = radio_detection
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_radar_1 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_radar_1 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_radar_2 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = decimetric_radar
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_radar_2 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_radar_2 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_radar_3 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = improved_decimetric_radar
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_radar_3 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_radar_3 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_radar_4 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = centimetric_radar
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_radar_4 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_radar_4 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	BAR_bar_leopold_radar_5 = {
		icon = rifles
		fire_only_once = yes
		allowed = {
			original_tag = BAR
			has_dlc = "No Step Back"
		}
		available = {
			has_tech = improved_centimetric_radar
		}
		visible = {
			has_tech = bar_leopold_new_body
			NOT = { has_tech = bar_leopold_radar_5 }
		}
		cost = 20
		complete_effect = {
			set_technology = {
				bar_leopold_radar_5 = 1
				popup = no
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

BAR_asinti_blood_sacrifices = {
	BAR_freest_state = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_cosmetic_tag = BAR_free_state
		}
		available = {
			ZES = {
				all_cores_owned_by_ROOT = yes
			}
			OLV = {
				all_cores_owned_by_ROOT = yes
			}
			GRU = {
				all_cores_owned_by_ROOT = yes
			}
			has_idea = barrad_demon_conscription
		}
		days_remove = 45
		remove_effect = {
			set_cosmetic_tag = BAR_free_state_2
			swap_ideas = {
				remove_idea = barrad_demon_conscription
				add_idea = barrad_demon_conscription_2
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_call_for_blood = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 1
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 1
			}
		}
		custom_cost_text = bar_asinti_blood_2k
		days_remove = 45
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 2
			}
			add_ideas = BAR_call_for_blood_idea
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_blood_stability = {
		icon = daggers
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 4
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 4
			}
		}
		custom_cost_text = bar_asinti_blood_5k
		days_remove = 180
		modifier = {
			stability_weekly = 0.004
		}
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 5
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_blood_ws = {
		icon = daggers
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			has_war = yes
			check_variable = {
				BAR_asinti_blood_resource > 4
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 4
			}
		}
		custom_cost_text = bar_asinti_blood_5k
		days_remove = 180
		modifier = {
			war_support_weekly = 0.004
		}
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 5
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_blood_to_oil = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
			controls_state = 624
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_text = bar_asinti_blood_10k
		days_remove = 15
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 10
			}
			add_resource = {
				type = oil
				amount = 17
				state = 624
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_bloody_steel = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
			controls_state = 624
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_text = bar_asinti_blood_10k
		days_remove = 15
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 10
			}
			add_resource = {
				type = steel
				amount = 21
				state = 624
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_bloody_navy = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_text = bar_asinti_blood_10k
		days_remove = 60
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 10
			}
			add_tech_bonus = {
				name = navy_bonus
				bonus = 2
				uses = 2
				category = naval_equipment
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_bloody_guns = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 9
			}
		}
		custom_cost_text = bar_asinti_blood_10k
		days_remove = 60
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 10
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				uses = 2
				category = infantry_weapons
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_blood_curse = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 29
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 29
			}
		}
		custom_cost_text = bar_asinti_blood_30k
		days_remove = 70
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 30
			}
			add_ideas = BAR_blood_curse_idea
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_asinti_witchdoctor_1 = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_text = bar_asinti_blood_15k
		days_remove = 70
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 15
			}
			BAR_asinti = {
				remove_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor
				}
			}
			BAR_asinti = {
				add_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor_1
				}
			}
			hidden_effect = {
				set_country_flag = bar_asinti_trait_upgaded
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_asinti_witchdoctor_2 = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = bar_asinti_trait_upgaded
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_text = bar_asinti_blood_15k
		days_remove = 70
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 15
			}
			BAR_asinti = {
				remove_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor_1
				}
			}
			BAR_asinti = {
				add_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor_2
				}
			}
			hidden_effect = {
				clr_country_flag = bar_asinti_trait_upgaded
				set_country_flag = bar_asinti_trait_upgaded_2
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
	BAR_asinti_witchdoctor_3 = {
		icon = daggers
		fire_only_once = yes
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = bar_asinti_trait_upgaded_2
			hidden_trigger = {
				has_country_flag = BAR_asinti_kill_count
			}
		}
		available = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_trigger = {
			check_variable = {
				BAR_asinti_blood_resource > 14
			}
		}
		custom_cost_text = bar_asinti_blood_15k
		days_remove = 70
		remove_effect = {
			subtract_from_variable = {
				BAR_asinti_blood_resource = 15
			}
			BAR_asinti = {
				remove_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor_2
				}
			}
			BAR_asinti = {
				add_trait = {
					ideology = religious_socialism
					trait = BAR_asinti_witch_doctor_3
				}
			}
			hidden_effect = {
				clr_country_flag = bar_asinti_trait_upgaded_2
			}
		}
		ai_will_do = {
			factor = 30
		}
	}
}

BAR_viira_coring = {

}

BAR_asinti_pentarchs = {
	BAR_asinti_pentarchs_kill_ambrosius = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		remove_effect = {
			add_war_support = 0.05
			add_stability = 0.1
		}
	}
	BAR_asinti_pentarchs_indoctrinate_gasienica = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			NOT = {
				has_country_flag = BAR_asinti_gasienica_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_gasienica_dealth
		}
		remove_effect = {
			country_event = {
				id = barrad_asinti.13
			}
		}
	}
	BAR_asinti_pentarchs_kill_leopold = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_leopold < 70
			}
			NOT = {
				has_country_flag = BAR_asinti_leopold_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_leopold_dealth
		}
		remove_effect = {
			add_war_support = 0.05
			add_political_power = 25
		}
	}
	BAR_asinti_pentarchs_kill_leopold_friend = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_leopold > 69
			}
			NOT = {
				has_country_flag = BAR_asinti_leopold_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_leopold_dealth
		}
		remove_effect = {
			country_event = {
				id = barrad_asinti.15
			}
		}
	}
	BAR_asinti_pentarchs_indoctrinate_leopold = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_leopold > 69
			}
			NOT = {
				has_country_flag = BAR_asinti_leopold_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_leopold_dealth
			hidden_effect = {
				set_technology = {
					popup = no
					barrad_leopold_alive = 0
				}
			}
		}
		remove_effect = {
			country_event = {
				id = barrad_asinti.16
			}
		}
	}
	BAR_asinti_pentarchs_kill_silver_star = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_silver < 70
			}
			NOT = {
				has_country_flag = BAR_asinti_silver_star_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_silver_star_dealth
		}
		remove_effect = {
			add_war_support = 0.05
			add_political_power = 25
		}
	}
	BAR_asinti_pentarchs_kill_silver_star_friend = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_silver > 69
			}
			NOT = {
				has_country_flag = BAR_asinti_silver_star_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_silver_star_dealth
		}
		remove_effect = {
			country_event = {
				id = barrad_asinti.17
			}
		}
	}
	BAR_asinti_pentarchs_indoctrinate_silver_star = {
		icon = skullgriff
		visible = {
			tag = BAR
			has_completed_focus = BAR_new_world_order
			
			check_variable = {
				BAR_relations_asinti_silver > 69
			}
			NOT = {
				has_country_flag = BAR_asinti_silver_star_dealth
			}
		}
		cost = 25
		days_remove = 3
		fire_only_once = yes
		ai_will_do = {
			factor = 15
		}
		complete_effect = {
			set_country_flag = BAR_asinti_silver_star_dealth
		}
		remove_effect = {
			country_event = {
				id = barrad_asinti.18
			}
		}
	}
}

BAR_expeditions = {
	BAR_expedition_progresses = {
		visible = {
			has_country_flag = bar_expeditions_enabled
		}
		allowed = {
			original_tag = BAR
		}
		available = {
			always = no
		}
		activation = {
			always = no
		}
		icon = pawn
		selectable_mission = yes
		days_mission_timeout = var:bar_expedition_phase_length
		is_good = yes
		days_remove = 0
		fixed_random_seed = no
		timeout_effect = {
			bar_expedition_week_end = yes
		}
	}
}

bar_sane_ambrosius_balance_category = {
	bar_sane_ambrosius_balance_cult_advisors = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		cost = 50
		days_remove = 60
		fire_only_once = yes
		modifier = {
			political_power_factor = 0.25
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_sane_ambrosius_balance_cult_advisors"
			add_power_balance_value = {
				id = bar_sane_ambrosius_balance
				value = -0.05
			}
		}
	}
	bar_sane_ambrosius_balance_solidify_control = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		cost = 100
		days_remove = 20
		modifier = {
			power_balance_weekly = 0.025
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_sane_ambrosius_balance_solidify_controll"
		}
	}
	bar_sane_ambrosius_balance_charity = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		cost = 30
		days_remove = 29
		fire_only_once = yes
		modifier = {
			stability_weekly = 0.01
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_sane_ambrosius_balance_charity"
			add_power_balance_value = {
				id = bar_sane_ambrosius_balance
				value = 0.05
			}
		}
	}
	bar_sane_ambrosius_balance_cult_death_squads = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		cost = 100
		days_remove = 60
		fire_only_once = yes
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_sane_ambrosius_balance_cult_death_squads"
			add_power_balance_value = {
				id = bar_sane_ambrosius_balance
				value = -0.15
			}
			if = {
				limit = {
					NOT = {
						has_template = "The Guard"
					}
				}
				division_template = {
					name = "The Guard"
					regiments = {
						infantry = {
							x = 0
							y = 0
						}
						infantry = {
							x = 0
							y = 1
						}
						infantry = {
							x = 0
							y = 2
						}
						infantry = {
							x = 0
							y = 3
						}
						infantry = {
							x = 1
							y = 0
						}
						infantry = {
							x = 1
							y = 1
						}
						infantry = {
							x = 1
							y = 2
						}
						artillery_brigade = {
							x = 2
							y = 0
						}
						artillery_brigade = {
							x = 2
							y = 1
						}
					}
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"Division of Devouted\" division_template = \"The Guard\" start_experience_factor = 0.75 start_equipment_factor = 1"
					owner = ROOT
				}
			}
		}
	}
	bar_sane_ambrosius_balance_mercenaries = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		cost = 100
		days_remove = 29
		fire_only_once = yes
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_sane_ambrosius_balance_mercenaries"
			add_manpower = 10000
			add_power_balance_value = {
				id = bar_sane_ambrosius_balance
				value = 0.03
			}
		}
	}
}

bar_friend_white_star_cat = {
	bar_friend_white_star_focus_progress = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_idea = BAR_friend_white_star
			NOT = {
				AND = {
					has_completed_focus = BAR_friend_national_mining_company
					has_completed_focus = BAR_friend_highmane_wittenburgh_rail
					has_completed_focus = BAR_friend_state_capitalism
					has_completed_focus = BAR_friend_invite_eqs_scientists
					has_completed_focus = BAR_friend_small_business_subsidies
					has_completed_focus = BAR_friend_nationwide_electrification
					has_completed_focus = BAR_friend_lakeish_arms_contract
					has_completed_focus = BAR_friend_import_rijekan_machinery
					has_completed_focus = BAR_friend_industrial_light_and_magic
					has_completed_focus = BAR_friend_food_problem
					has_completed_focus = BAR_friend_railway_tunnels
					has_completed_focus = BAR_friend_ivanhorn_dam
					has_completed_focus = BAR_friend_hire_diamond_dogs
					has_completed_focus = BAR_friend_invite_advisors
				}
			}
		}
		available = {
			has_completed_focus = BAR_friend_court_and_princess
			hidden_trigger = {
				NOT = {
					AND = {
						has_completed_focus = BAR_friend_national_mining_company
						has_completed_focus = BAR_friend_highmane_wittenburgh_rail
						has_completed_focus = BAR_friend_state_capitalism
						has_completed_focus = BAR_friend_invite_eqs_scientists
						has_completed_focus = BAR_friend_small_business_subsidies
						has_completed_focus = BAR_friend_nationwide_electrification
						has_completed_focus = BAR_friend_lakeish_arms_contract
						has_completed_focus = BAR_friend_import_rijekan_machinery
						has_completed_focus = BAR_friend_industrial_light_and_magic
						has_completed_focus = BAR_friend_food_problem
						has_completed_focus = BAR_friend_railway_tunnels
						has_completed_focus = BAR_friend_ivanhorn_dam
						has_completed_focus = BAR_friend_hire_diamond_dogs
						has_completed_focus = BAR_friend_invite_advisors
					}
				}
			}
		}
		cost = 75
		days_remove = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_white_star_focus_progress"
			if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_invite_advisors
					}
				}
				complete_national_focus = BAR_friend_invite_advisors
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_hire_diamond_dogs
					}
				}
				complete_national_focus = BAR_friend_hire_diamond_dogs
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_ivanhorn_dam
					}
				}
				complete_national_focus = BAR_friend_ivanhorn_dam
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_railway_tunnels
					}
				}
				complete_national_focus = BAR_friend_railway_tunnels
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_food_problem
					}
				}
				complete_national_focus = BAR_friend_food_problem
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_industrial_light_and_magic
					}
				}
				complete_national_focus = BAR_friend_industrial_light_and_magic
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_import_rijekan_machinery
					}
				}
				complete_national_focus = BAR_friend_import_rijekan_machinery
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_lakeish_arms_contract
					}
				}
				complete_national_focus = BAR_friend_lakeish_arms_contract
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_nationwide_electrification
					}
				}
				complete_national_focus = BAR_friend_nationwide_electrification
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_small_business_subsidies
					}
				}
				complete_national_focus = BAR_friend_small_business_subsidies
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_invite_eqs_scientists
					}
				}
				complete_national_focus = BAR_friend_invite_eqs_scientists
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_state_capitalism
					}
				}
				complete_national_focus = BAR_friend_state_capitalism
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_highmane_wittenburgh_rail
					}
				}
				complete_national_focus = BAR_friend_highmane_wittenburgh_rail
			}
			else_if = {
				limit = {
					NOT = {
						has_completed_focus = BAR_friend_national_mining_company
					}
				}
				complete_national_focus = BAR_friend_national_mining_company
			}
		}
	}
	bar_friend_estabilish_principality_of_three_nations = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = BAN
			}
			NOT = {
				country_exists = LUS
			}
			NOT = {
				country_exists = BRF
			}
			NOT = {
				country_exists = GRW
			}
			all_of_scopes = {
				array = BAN.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = LUS.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = BRF.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_principality_of_three_nations"
			release_puppet = BRF
			BRF = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = BAN
							is_core_of = LUS
							is_core_of = BRF
						}
					}
					add_core_of = BRF
					BRF = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					OR = {
						is_core_of = BAN
						is_core_of = LUS
						is_core_of = BRF
					}
				}
				add_core_of = BRF
				BRF = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_vartai = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = HLQ
			}
			NOT = {
				country_exists = LNS
			}
			NOT = {
				country_exists = LSC
			}
			NOT = {
				country_exists = LSM
			}
			all_of_scopes = {
				array = HLQ.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = LNS.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = LSC.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = LSM.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_principality_of_three_nations"
			release_puppet = HLQ
			HLQ = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem_LSC_vartai
			}

			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = HLQ
							is_core_of = LNS
						}
					}
					add_core_of = HLQ
					HLQ = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					OR = {
						is_core_of = HLQ
						is_core_of = LNS
					}
				}
				add_core_of = HLQ
				HLQ = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_mit = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = MIT
			}
			NOT = {
				country_exists = CYA
			}
			all_of_scopes = {
				array = MIT.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = CYA.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = MIT
			MIT = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = MIT
							is_core_of = CYA
						}
					}
					add_core_of = MIT
					MIT = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					OR = {
						is_core_of = MIT
						is_core_of = CYA
					}
				}
				MIT = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_sic = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = SIC
			}
			all_of_scopes = {
				array = SIC.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = SIC
			SIC = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						is_core_of = SIC
					}
					SIC = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = SIC
				}
				SIC = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_fal = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = FAL
			}
			all_of_scopes = {
				array = FAL.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = FAL
			FAL = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						is_core_of = FAL
					}
					FAL = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = FAL
				}
				FAL = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_WNG = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = WNG
			}
			all_of_scopes = {
				array = WNG.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = WNG
			WNG = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						is_core_of = WNG
					}
					WNG = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = WNG
				}
				WNG = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_BOI = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = BOI
			}
			all_of_scopes = {
				array = BOI.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = BOI
			BOI = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_owned_state = {
				limit = {
					is_core_of = BOI
				}
				BOI = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_TAL = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = TAL
			}
			all_of_scopes = {
				array = TAL.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = TAL
			TAL = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						is_core_of = TAL
					}
					TAL = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = TAL
				}
				TAL = {
					transfer_state = PREV
				}
			}
		}
	}
	bar_friend_estabilish_FRN = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_completed_focus = BAR_friend_riverlands_protectors
		}
		available = {
			NOT = {
				country_exists = FRN
			}
			NOT = {
				country_exists = ARA
			}
			all_of_scopes = {
				array = FRN.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
			all_of_scopes = {
				array = ARA.core_states
				OR = {
					is_fully_controlled_by = BAR
					owner = {
						is_subject_of = BAR
					}
				}
			}
		}
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_friend_estabilish_asterion"
			release_puppet = FRN
			FRN = {
				load_focus_tree = generic_griffon_focus
				set_cosmetic_tag = RIV_federation_mem
			}
			
			every_country = {
				limit = {
					is_subject_of = BAR
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = ARA
							is_core_of = FRN
						}
					}
					FRN = {
						transfer_state = PREV
					}
				}
			}

			every_owned_state = {
				limit = {
					OR = {
						is_core_of = ARA
						is_core_of = FRN
					}
				}
				FRN = {
					transfer_state = PREV
				}
			}
		}
	}
}

RIV_political_decisions = {
	bar_change_riverlands_flag = {
		icon = pawn
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = river_federation_founder
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove bar_change_riverlands_flag"
			set_cosmetic_tag = BAR_rivfed
		}
	}
	BAR_rifved_mutual_invest = {
		target_array = global.river_coalition_members
		icon = pawn
		days_remove = 30
		cost = 100
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = bar_art_of_the_deal
			FROM = {
				NOT = {
					has_country_flag = bar_made_a_deal
				}
			}
		}
		remove_effect = {
			FROM = {
				set_country_flag = bar_made_a_deal
				one_random_industrial_complex = yes
			}
			one_random_industrial_complex = yes
			RIV_add_to_fed_race = yes
		}
	}
	BAR_rifved_mutual_invest_mil = {
		target_array = global.river_coalition_members
		icon = pawn
		days_remove = 30
		cost = 100
		allowed = {
			original_tag = BAR
		}
		visible = {
			has_country_flag = bar_art_of_the_deal
			FROM = {
				NOT = {
					has_country_flag = bar_made_a_deal
				}
			}
		}
		remove_effect = {
			FROM = {
				set_country_flag = bar_made_a_deal
				one_random_arms_factory = yes
			}
			one_random_arms_factory = yes
			RIV_add_to_fed_race = yes
		}
	}
	BAR_rivfed_attempt_to_cure_purple_plague = {
		fire_only_once = yes
		icon = pawn
		cost = 75
		days_remove = 70
		allowed = {
			original_tag = BAR
		}
		visible = {
			any_country = {
				has_idea = HLQ_the_plague
			}
			has_completed_focus = BAR_friend_visit_in_asinti_temple
		}
		remove_effect = {
			country_event = {
				id = barrad_friendship_tree.38
			}
			RIV_add_to_fed_race = yes
		}
	}
	BAR_rivfed_spread_zebra_medicine = {
		fire_only_once = yes
		icon = pawn
		cost = 100
		allowed = {
			original_tag = BAR
		}
		visible = {
			is_river_fed_member = yes
			has_completed_focus = BAR_friend_visit_in_asinti_temple
		}
		complete_effect = {
			add_ideas = bar_rivfed_zebra_medicine_idea
			set_country_flag = BAR_rivfed_can_spread_medicine
			RIV_add_to_fed_race = yes
		}
	}
	BAR_rivfed_get_zebra_medicine = {
		fire_only_once = yes
		icon = pawn
		cost = 150
		allowed = {
		}
		visible = {
			is_river_fed_member = yes
			BAR = {
				has_country_flag = BAR_rivfed_can_spread_medicine
			}
			NOT = {
				has_idea = bar_rivfed_zebra_medicine_idea
			}
		}
		complete_effect = {
			add_ideas = bar_rivfed_zebra_medicine_idea
		}
	}
	BAR_rivfed_spread_clockwerks = {
		fire_only_once = yes
		icon = pawn
		cost = 50
		allowed = {
			original_tag = BAR
		}
		visible = {
			is_river_fed_member = yes
			has_completed_focus = BAR_clockwerk_dev
		}
		complete_effect = {
			set_country_flag = BAR_rivfed_can_clockwerks
			RIV_add_to_fed_race = yes
		}
	}
	BAR_rivfed_get_clockwerks = {
		fire_only_once = yes
		icon = pawn
		cost = 100
		allowed = {
		}
		visible = {
			is_river_fed_member = yes
			BAR = {
				has_country_flag = BAR_rivfed_can_clockwerks
			}
			NOT = {
				has_idea = bar_rivfed_clockwerks_idea
			}
		}
		complete_effect = {
			add_ideas = bar_rivfed_clockwerks_idea
		}
	}
}
