on_actions = {
	on_monthly_BAR = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_monthly_BAR"
			if = {
				limit = {
					original_tag = BAR
				}
				if = {
					limit = { 
						country_exists = BAR
						BAR = {
							has_country_flag = { flag = barrad_endgame value = 0 }
							has_country_flag = barrad_silver_star_alive
							OR = {
								AND = {
									has_country_flag = barrad_asinti_alive
									check_variable = { BAR_relations_asinti_silver < 70 }
								}
								AND = {
									has_country_flag = barrad_leopold_alive
									check_variable = { BAR_relations_silver_leopold < 70 }
								}
								AND = {
									has_country_flag = barrad_viira_alive
									check_variable = { BAR_relations_silver_viira < 70 }
								}
							}
						}
					}
					BAR = {
						if = {
							limit = {
								has_country_flag = BAR_silver_sad
							}
							country_event = { days = 1 random_days = 14 id = bar_silver_star_nightmares.11 }
						}
						else = {
							country_event = { days = 1 random_days = 14 id = bar_silver_star_nightmares.1 }
						}
					}
				}
				if = {
					limit = {
						country_exists = BAR
						BAR = {
							OR = {
								has_variable = BAR_viira_pup
								has_variable = BAR_viira_control
							}	
							check_variable = { viira_mana_overload > 9 }
						}
					}
					BAR = {
						subtract_from_variable = { viira_mana_overload = 10 }
					}
					
				}
				if = {
					limit = {
						has_country_flag = { flag = barrad_endgame value = 0 }
						OR = {
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_silver_star_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_viira_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_viira_alive
								has_country_flag = barrad_silver_star_alive
							}
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_viira_alive
							}
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_silver_star_alive
							}
						}
					}
					random_list = {
						30 = {
							if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive	
								}
								random_list = {
									16 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									16 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
							}
						}
						70 = {

						}
					}
				}
				if = {
					limit = {
						BAR = {
							has_war = yes
							has_country_flag = BAR_asinti_kill_count
						}
					}
					BAR = {
						set_variable = { inflicted_casualties_last_month = inflicted_casualties }
						count_inflicted_casualties_on_current_enemies = yes
						subtract_from_variable = { inflicted_casualties_last_month = inflicted_casualties }
						multiply_variable = { inflicted_casualties_last_month = -1 }
						if = {
							limit = {
								check_variable = { BAR_asinti_blood_resource < 2000000 }
							}
							add_to_variable = { BAR_asinti_blood_resource = inflicted_casualties_last_month }
						}
						else = {
							set_variable = { BAR_asinti_blood_resource = 2000000 }
						}
					}	
				}
			}	
		}
	}
}
