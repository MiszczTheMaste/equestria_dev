scripted_gui = {
	pentarchy_info_button = {
		window_name = "pentarchy_info_button_container"
		parent_window_token = politics_tab
		context_type = player_context
		visible = {
			tag = BAR
		}
		effects = {
			pentarchy_info_button_click = {
				if = {
					limit = {
						has_variable = bar_pen_screen_show
					}
					clear_variable = bar_pen_screen_show
					clear_variable = bar_pen_screen
				} else_if = {
					limit = {
						has_variable = bar_pen_screen
					}
					clear_variable = bar_pen_screen
				} else = {
					set_variable = {
						bar_pen_screen_show = 1
					}
				}
			}
		}
	}	
	viira_journal_button = {
		window_name = "viira_journal_button_container"
		parent_window_token = politics_tab
		context_type = player_context
		visible = {
			tag = BAR
		}
		effects = {
			viira_journal_button_click = {
				if = {
					limit = {
						has_variable = bar_viira_show_notes
					}
					clear_variable = bar_viira_show_notes
				} else = {
					set_variable = {
						bar_viira_show_notes = 1
					}
				}
			}
		}
	}	
	pentarchy_friendship_tab = {
		window_name = "pentarchy_friendship_tab_container"
		parent_window_token = politics_tab
		context_type = player_context
		visible = {
			tag = BAR
			has_variable = pentarchy_friendship_tab_visible
		}
		triggers = {
			friend_6_visible = {
				has_idea = BAR_friend_white_star
			}
		}
	}
	bar_viira_note_flavor1 = {
		window_name = "bar_viira_note_flavor1"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
		}
		effects = {
			bar_viira_note_flavor1_exit_click = {
				clear_variable = bar_viira_show_notes
			}
		}
	}
	bar_viira_note_1 = {
		window_name = "bar_viira_note_1"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_2
		}
	}
	bar_viira_note_2= {
		window_name = "bar_viira_note_2"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_3
		}
	}
	bar_viira_note_3 = {
		window_name = "bar_viira_note_3"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_4
		}
	}
	bar_viira_note_4 = {
		window_name = "bar_viira_note_4"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_5
		}
	}
	bar_viira_note_5 = {
		window_name = "bar_viira_note_5"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_6
		}
	}
	bar_viira_note_6 = {
		window_name = "bar_viira_note_6"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_7
		}
	}
	bar_viira_note_7 = {
		window_name = "bar_viira_note_7"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_8
		}
	}
	bar_viira_note_8 = {
		window_name = "bar_viira_note_8"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_7
			has_country_flag = bar_viira_investigation_step_8
		}
	}
	bar_viira_note_9 = {
		window_name = "bar_viira_note_9"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_9
		}
	}
	bar_viira_note_10 = {
		window_name = "bar_viira_note_10"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_10
		}
	}
	bar_viira_note_11 = {
		window_name = "bar_viira_note_11"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_11
		}
	}
	bar_viira_note_12 = { 
		window_name = "bar_viira_note_12"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_12
		}
	}
	bar_viira_note_13 = { 
		window_name = "bar_viira_note_13"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_13
		}
	}
	bar_viira_note_14 = {
		window_name = "bar_viira_note_14"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_14
		}
	}
	bar_viira_note_15 = { 
		window_name = "bar_viira_note_15"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_15
		}
	}
	bar_viira_note_16 = { 
		window_name = "bar_viira_note_16"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_16
		}
	}
	bar_viira_note_17 = { 
		window_name = "bar_viira_note_17"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_17
		}
	}
	bar_viira_note_18 = { 
		window_name = "bar_viira_note_18"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_18
		}
	}
	bar_viira_note_19 = {
		window_name = "bar_viira_note_19"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_19
		}
	}
	bar_viira_note_20 = {
		window_name = "bar_viira_note_20"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_20
		}
	}
	bar_viira_note_21 = {
		window_name = "bar_viira_note_21"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = bar_viira_investigation_step_21
		}
	}
	bar_viira_note_friendship = {
		window_name = "bar_viira_note_friendship"
		context_type = player_context
		dirty = bar_viira_show_notes
		visible = {
			tag = BAR
			has_variable = bar_viira_show_notes
			has_country_flag = BAR_begun_friendship_path
		}
	}
	bar_pen_screen_ambrosius_button_container = {
		window_name = "bar_pen_screen_ambrosius_button_container"
		dirty = bar_pen_screen_show
		context_type = player_context
		visible = {
			has_variable = bar_pen_screen_show
		}
		effects = {
			bar_pen_screen_ambrosius_button_exit_click = {
				clear_variable = bar_pen_screen_show
			}
			bar_pen_screen_ambrosius_button_click = {
				clear_variable = bar_pen_screen_show
				set_variable = {
					bar_pen_screen = 1
				}
			}
		}
	}
	bar_pen_screen_asinti_button_container = {
		window_name = "bar_pen_screen_asinti_button_container"
		dirty = bar_pen_screen_show
		context_type = player_context
		visible = {
			has_variable = bar_pen_screen_show
		}
		effects = {
			bar_pen_screen_asinti_button_click = {
				clear_variable = bar_pen_screen_show
				set_variable = {
					bar_pen_screen = 2
				}
			}
		}
	}
	bar_pen_screen_leopold_button_container = {
		window_name = "bar_pen_screen_leopold_button_container"
		dirty = bar_pen_screen_show
		context_type = player_context
		visible = {
			has_variable = bar_pen_screen_show
		}
		effects = {
			bar_pen_screen_leopold_button_click = {
				clear_variable = bar_pen_screen_show
				set_variable = {
					bar_pen_screen = 3
				}
			}
		}
	}
	bar_pen_screen_silver_button_container = {
		window_name = "bar_pen_screen_silver_button_container"
		dirty = bar_pen_screen_show
		context_type = player_context
		visible = {
			has_variable = bar_pen_screen_show
		}
		effects = {
			bar_pen_screen_silver_button_click = {
				clear_variable = bar_pen_screen_show
				set_variable = {
					bar_pen_screen = 4
				}
			}
		}
	}
	bar_pen_screen_viira_button_container = {
		window_name = "bar_pen_screen_viira_button_container"
		dirty = bar_pen_screen_show
		context_type = player_context
		visible = {
			has_variable = bar_pen_screen_show
		}
		effects = {
			bar_pen_screen_viira_button_click = {
				clear_variable = bar_pen_screen_show
				set_variable = {
					bar_pen_screen = 5
				}
			}
		}
	}
	bar_pen_screen_ambrosius_info = {
		context_type = player_context
		dirty = bar_pen_screen
		window_name = "bar_pen_screen_ambrosius_info"
		visible = {
			check_variable = {
				bar_pen_screen = 1
			}
		}
		effects = {
			bar_pen_screen_ambrosius_info_portrait_clip_click = {
				clear_variable = bar_pen_screen
				set_variable = {
					bar_pen_screen_show = 1
				}
			}
		}
	}
	bar_pen_screen_asinti_info = {
		context_type = player_context
		dirty = bar_pen_screen
		window_name = "bar_pen_screen_asinti_info"
		visible = {
			check_variable = {
				bar_pen_screen = 2
			}
		}
		effects = {
			bar_pen_screen_asinti_info_portrait_clip_click = {
				clear_variable = bar_pen_screen
				set_variable = {
					bar_pen_screen_show = 1
				}
			}
		}
	}
	bar_pen_screen_leopold_info = {
		context_type = player_context
		dirty = bar_pen_screen
		window_name = "bar_pen_screen_leopold_info"
		visible = {
			check_variable = {
				bar_pen_screen = 3
			}
		}
		effects = {
			bar_pen_screen_leopold_info_portrait_clip_click = {
				clear_variable = bar_pen_screen
				set_variable = {
					bar_pen_screen_show = 1
				}
			}
		}
	}
	bar_pen_screen_silver_info = {
		context_type = player_context
		dirty = bar_pen_screen
		window_name = "bar_pen_screen_silver_info"
		visible = {
			check_variable = {
				bar_pen_screen = 4
			}
		}
		effects = {
			bar_pen_screen_silver_info_portrait_clip_click = {
				clear_variable = bar_pen_screen
				set_variable = {
					bar_pen_screen_show = 1
				}
			}
		}
	}
	bar_pen_screen_viira_info = {
		context_type = player_context
		dirty = bar_pen_screen
		window_name = "bar_pen_screen_viira_info"
		visible = {
			check_variable = {
				bar_pen_screen = 5
			}
		}
		effects = {
			bar_pen_screen_viira_info_portrait_clip_click = {
				clear_variable = bar_pen_screen
				set_variable = {
					bar_pen_screen_show = 1
				}
			}
		}
	}
	bar_new_journal_entry = {
		window_name = "bar_new_journal_entry_window"
		dirty = BAR_new_journal_entry_trigger
		context_type = player_context
		visible = {
			has_variable = BAR_new_journal_entry_trigger
			tag = BAR
		}
	}

	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################

	bar_viira_map_overlays = {
		window_name = "bar_viira_map_overlays_container"
		parent_window_name = "MapmodesInterface_Ingame"
		context_type = player_context
		dirty = BAR_viira_godhood
		visible = {
			ROOT = {
				tag = BAR
				has_variable = BAR_viira_godhood
			}
		}
		triggers = {
			bar_viira_psi_migration_mode_button_visible = {
				has_country_flag = BAR_spells_unlocked_1
			}
		}
		effects = {
			bar_viira_nukes_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_nuke_mode
					}
					clr_country_flag = bar_viira_nuke_mode
					scoped_play_song = "maintheme"
				} else = {
					set_country_flag = bar_viira_nuke_mode
					scoped_play_song = "loss"
				}
			}
			bar_viira_zone_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_zone_mode
					}
					clr_country_flag = bar_viira_zone_mode
				} else = {
					set_country_flag = bar_viira_zone_mode
				}
			}
			bar_viira_x_decay_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_x_decay_mode
					}
					clr_country_flag = bar_viira_x_decay_mode
				} else = {
					set_country_flag = bar_viira_x_decay_mode
				}
			}
			bar_viira_spell_gas_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_spell_gas_mode
					}
					clr_country_flag = bar_viira_spell_gas_mode
				} else = {
					set_country_flag = bar_viira_spell_gas_mode
				}
			}
			bar_viira_electromagnetism_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_electromagnetism_mode
					}
					clr_country_flag = bar_viira_electromagnetism_mode
				} else = {
					set_country_flag = bar_viira_electromagnetism_mode
				}
			}
			bar_viira_psi_emission_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_psi_emission_mode
					}
					clr_country_flag = bar_viira_psi_emission_mode
				} else = {
					set_country_flag = bar_viira_psi_emission_mode
				}
			}
			bar_viira_incineration_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_incineration_mode
					}
					clr_country_flag = bar_viira_incineration_mode
				} else = {
					set_country_flag = bar_viira_incineration_mode
				}
			}
			bar_viira_earthshocks_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_earthshocks_mode
					}
					clr_country_flag = bar_viira_earthshocks_mode
				} else = {
					set_country_flag = bar_viira_earthshocks_mode
				}
			}
			bar_viira_global_psi_emission_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_global_psi_emission_mode
					}
					clr_country_flag = bar_viira_global_psi_emission_mode
				} else = {
					set_country_flag = bar_viira_global_psi_emission_mode
				}
			}
			bar_viira_psi_migration_mode_button_click = {
				if = {
					limit = {
						has_country_flag = bar_viira_psi_migration_mode
					}
					clr_country_flag = bar_viira_psi_migration_mode
				} else = {
					set_country_flag = bar_viira_psi_migration_mode
				}
			}
		}
	}
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################

	bar_silver_star_map_overlays_container = {
		window_name = "bar_silver_star_map_overlays_container"
		parent_window_name = "MapmodesInterface_Ingame"
		context_type = player_context
		dirty = bar_silver_star_army_bonuses
		visible = {
			ROOT = {
				tag = BAR
				has_variable = bar_silver_star_army_bonuses
			}
		}
		triggers = {
			bar_silver_star_undead_buff_attack_button_enabled = {
				NOT = {
					OR = {
						has_country_flag = bar_silver_star_undead_buff_cooldown
						has_country_flag = BAR_un_buff_attack_flag
					}
				}	
			}
			bar_silver_star_undead_buff_def_button_enabled = {
				NOT = {
					OR = {
						has_country_flag = bar_silver_star_undead_buff_cooldown
						has_country_flag = BAR_un_buff_def_flag
					}
				}	
			}
			bar_silver_star_undead_buff_break_button_enabled = {
				NOT = {
					OR = {
						has_country_flag = bar_silver_star_undead_buff_cooldown
						has_country_flag = BAR_un_buff_break_flag
					}
				}	
			}
			bar_silver_star_undead_buff_org_button_enabled = {
				NOT = {
					OR = {
						has_country_flag = bar_silver_star_undead_buff_cooldown
						has_country_flag = BAR_un_buff_org_flag
					}
				}	
			}
			bar_silver_star_undead_buff_piercing_button_enabled = {
				NOT = {
					OR = {
						has_country_flag = bar_silver_star_undead_buff_cooldown
						has_country_flag = BAR_un_buff_piercing_flag
					}
				}	
			}
		}
		effects = {
			bar_silver_star_undead_buff_attack_button_click = {
				hidden_effect = {
					set_country_flag = bar_silver_star_undead_buff_cooldown
					activate_mission = BAR_un_buff_change_timeout
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_attack_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_attack_flag
				}
			}
			bar_silver_star_undead_buff_def_button_click = {
				hidden_effect = {
					set_country_flag = bar_silver_star_undead_buff_cooldown
					activate_mission = BAR_un_buff_change_timeout
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_def_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_def_flag
				}
			}
			bar_silver_star_undead_buff_break_button_click = {
				hidden_effect = {
					set_country_flag = bar_silver_star_undead_buff_cooldown
					activate_mission = BAR_un_buff_change_timeout
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_break_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_break_flag
				}
			}
			bar_silver_star_undead_buff_org_button_click = {
				hidden_effect = {
					set_country_flag = bar_silver_star_undead_buff_cooldown
					activate_mission = BAR_un_buff_change_timeout
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_org_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_org_flag
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_piercing_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_piercing_flag
				}
			}
			bar_silver_star_undead_buff_piercing_button_click = {
				hidden_effect = {
					set_country_flag = bar_silver_star_undead_buff_cooldown
					activate_mission = BAR_un_buff_change_timeout
					BAR_un_idea_buffs_remove = yes
					set_technology = {
						BAR_un_buff_piercing_tech = 1
						popup = no
					}
					set_country_flag = BAR_un_buff_piercing_flag
				}
			}
		}
	}
	
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################
	#######################################################################################

	bar_pentarchy_fight = {
		window_name = "bar_pentarchy_fight_window"
		dirty = bar_pentarchy_fight_show
		context_type = player_context
		visible = {
			has_variable = bar_pentarchy_fight_show
			tag = BAR
		}
		effects = {
			fight_rest_button_click = {
				BAR_pen_fight_rest = yes
			}
		}
		triggers = {
			bar_pen_fight_stun_log_visible = {
				has_variable = v_stun_turn
			}
		}
	}
	
	bar_pentarchy_fight_viira = {
		window_name = "bar_pentarchy_fight_viira"
		parent_window_name = "bar_pentarchy_fight_window"
		dirty = bar_pentarchy_fight_show
		context_type = player_context

		triggers = {
			bar_viira_heal_click_enabled = {
				has_country_flag = bar_fight_viira_side
				has_country_flag = barrad_viira_alive
				check_variable = {
					v_stun < 1
				}
				check_variable = {
					v_in > 0
				}
				check_variable = {
					BAR_resources_viira > 199
				}
			}
			bar_viira_strong_attack_click_enabled = {
				has_country_flag = bar_fight_viira_side
				has_country_flag = barrad_viira_alive
				check_variable = {
					v_stun < 1
				}
				check_variable = {
					v_in > 2
				}
				check_variable = {
					BAR_resources_viira > 99
				}
			}
			bar_viira_normal_attack_click_enabled = {
				has_country_flag = bar_fight_viira_side
				has_country_flag = barrad_viira_alive
				check_variable = {
					v_stun < 1
				}
				check_variable = {
					v_in > 0
				}
			}
		}

		effects = {
			bar_viira_heal_click = {
				bar_viira_fight_heal = yes
			}
			bar_viira_strong_attack_click = {
				bar_viira_fight_strong_attack = yes
			}
			bar_viira_normal_attack_click = {
				bar_viira_fight_normal_attack = yes
			}
		}
		properties = {			
			bar_pen_fight_viira_hp_10 = { frame = bar_fight_viira_hp_bar^0 }
			bar_pen_fight_viira_hp_20 = { frame = bar_fight_viira_hp_bar^1 }
			bar_pen_fight_viira_hp_30 = { frame = bar_fight_viira_hp_bar^2 }
			bar_pen_fight_viira_hp_40 = { frame = bar_fight_viira_hp_bar^3 }
			bar_pen_fight_viira_hp_50 = { frame = bar_fight_viira_hp_bar^4 }
			bar_pen_fight_viira_hp_60 = { frame = bar_fight_viira_hp_bar^5 }
			bar_pen_fight_viira_hp_70 = { frame = bar_fight_viira_hp_bar^6 }
			bar_pen_fight_viira_hp_80 = { frame = bar_fight_viira_hp_bar^7 }
			bar_pen_fight_viira_hp_90 = { frame = bar_fight_viira_hp_bar^8 }
			bar_pen_fight_viira_hp_100 = { frame = bar_fight_viira_hp_bar^9 }
			bar_pen_fight_viira_hp_110 = { frame = bar_fight_viira_hp_bar^10 }
			bar_pen_fight_viira_hp_120 = { frame = bar_fight_viira_hp_bar^11 }
			bar_pen_fight_viira_hp_130 = { frame = bar_fight_viira_hp_bar^12 }
			bar_pen_fight_viira_hp_140 = { frame = bar_fight_viira_hp_bar^13 }
			bar_pen_fight_viira_hp_150 = { frame = bar_fight_viira_hp_bar^14 }
			bar_pen_fight_viira_hp_160 = { frame = bar_fight_viira_hp_bar^15 }
			bar_pen_fight_viira_hp_170 = { frame = bar_fight_viira_hp_bar^16 }
			bar_pen_fight_viira_hp_180 = { frame = bar_fight_viira_hp_bar^17 }
			bar_pen_fight_viira_hp_190 = { frame = bar_fight_viira_hp_bar^18 }
			bar_pen_fight_viira_hp_200 = { frame = bar_fight_viira_hp_bar^19 }
			bar_pen_fight_viira_hp_210 = { frame = bar_fight_viira_hp_bar^20 }
			bar_pen_fight_viira_hp_220 = { frame = bar_fight_viira_hp_bar^21 }
			bar_pen_fight_viira_hp_230 = { frame = bar_fight_viira_hp_bar^22 }
			bar_pen_fight_viira_hp_240 = { frame = bar_fight_viira_hp_bar^23 }
			bar_pen_fight_viira_hp_250 = { frame = bar_fight_viira_hp_bar^24 }
			bar_pen_fight_viira_hp_260 = { frame = bar_fight_viira_hp_bar^25 }
			bar_pen_fight_viira_hp_270 = { frame = bar_fight_viira_hp_bar^26 }
			bar_pen_fight_viira_hp_280 = { frame = bar_fight_viira_hp_bar^27 }

			bar_pen_fight_viira_in_1 = { frame = bar_fight_viira_initiative_bar^0 }
			bar_pen_fight_viira_in_2 = { frame = bar_fight_viira_initiative_bar^1 }
			bar_pen_fight_viira_in_3 = { frame = bar_fight_viira_initiative_bar^2 }
			bar_pen_fight_viira_in_4 = { frame = bar_fight_viira_initiative_bar^3 }
			bar_pen_fight_viira_in_5 = { frame = bar_fight_viira_initiative_bar^4 }
			bar_pen_fight_viira_in_6 = { frame = bar_fight_viira_initiative_bar^5 }
			bar_pen_fight_viira_in_7 = { frame = bar_fight_viira_initiative_bar^6 }
			bar_pen_fight_viira_in_8 = { frame = bar_fight_viira_initiative_bar^7 }
			bar_pen_fight_viira_in_9 = { frame = bar_fight_viira_initiative_bar^8 }
			bar_pen_fight_viira_in_10 = { frame = bar_fight_viira_initiative_bar^9 }
			bar_pen_fight_viira_in_11 = { frame = bar_fight_viira_initiative_bar^10 }
			bar_pen_fight_viira_in_12 = { frame = bar_fight_viira_initiative_bar^11 }
			bar_pen_fight_viira_in_13 = { frame = bar_fight_viira_initiative_bar^12 }
			bar_pen_fight_viira_in_14 = { frame = bar_fight_viira_initiative_bar^13 }
			bar_pen_fight_viira_in_15 = { frame = bar_fight_viira_initiative_bar^14 }
			bar_pen_fight_viira_in_16 = { frame = bar_fight_viira_initiative_bar^15 }
			bar_pen_fight_viira_in_17 = { frame = bar_fight_viira_initiative_bar^16 }
			bar_pen_fight_viira_in_18 = { frame = bar_fight_viira_initiative_bar^17 }
			bar_pen_fight_viira_in_19 = { frame = bar_fight_viira_initiative_bar^18 }
			bar_pen_fight_viira_in_20 = { frame = bar_fight_viira_initiative_bar^19 }
		}
	}

	bar_pentarchy_fight_leopold = {
		window_name = "bar_pentarchy_fight_leopold_window"
		parent_window_name = "bar_pentarchy_fight_window"
		dirty = bar_pentarchy_fight_show
		context_type = player_context
		visible = {
			has_variable = bar_pentarchy_fight_show
			has_variable = bar_pen_fight_leopold_alive_at_start
			tag = BAR
		}
		triggers = {
			bar_pen_fight_leopold_portrait_click_enabled = {
				has_country_flag = barrad_leopold_alive
			}
			bar_leopold_normal_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_leopold_alive
				check_variable = {
					l_in > 0
				}
			}
			bar_leopold_strong_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_leopold_alive
				check_variable = {
					l_in > 2
				}
				check_variable = {
					BAR_resources_leopold > 49
				}
			}
			bar_leopold_stun_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_leopold_alive
				check_variable = {
					v_stun = 0
				}
				check_variable = {
					l_in > 1
				}
				check_variable = {
					BAR_resources_leopold > 99
				}
			}
		}
		effects = {
			bar_pen_fight_leopold_portrait_click = {
				bar_viira_fight_deal_dmg_leopold = yes
				BAR_silver_heal_leopold = yes
			}
			bar_leopold_normal_attack_click = {
				BAR_pen_fight_leopold_normal_attack = yes
			}
			bar_leopold_strong_attack_click = {
				BAR_pen_fight_leopold_strong_attack = yes
			}
			bar_leopold_stun_attack_click = {
				BAR_pen_fight_leopold_stun = yes
			}
		}
		properties = {
			bar_pen_fight_leopold_hp_10 = { frame = bar_fight_leopold_hp_bar^0 }
			bar_pen_fight_leopold_hp_20 = { frame = bar_fight_leopold_hp_bar^1 }
			bar_pen_fight_leopold_hp_30 = { frame = bar_fight_leopold_hp_bar^2 }
			bar_pen_fight_leopold_hp_40 = { frame = bar_fight_leopold_hp_bar^3 }
			bar_pen_fight_leopold_hp_50 = { frame = bar_fight_leopold_hp_bar^4 }
			bar_pen_fight_leopold_hp_60 = { frame = bar_fight_leopold_hp_bar^5 }
			bar_pen_fight_leopold_hp_70 = { frame = bar_fight_leopold_hp_bar^6 }
			bar_pen_fight_leopold_hp_80 = { frame = bar_fight_leopold_hp_bar^7 }
			bar_pen_fight_leopold_hp_90 = { frame = bar_fight_leopold_hp_bar^8 }
			bar_pen_fight_leopold_hp_100 = { frame = bar_fight_leopold_hp_bar^9 }
			bar_pen_fight_leopold_hp_110 = { frame = bar_fight_leopold_hp_bar^10 }
			bar_pen_fight_leopold_hp_120 = { frame = bar_fight_leopold_hp_bar^11 }
			bar_pen_fight_leopold_hp_130 = { frame = bar_fight_leopold_hp_bar^12 }
			bar_pen_fight_leopold_hp_140 = { frame = bar_fight_leopold_hp_bar^13 }
			bar_pen_fight_leopold_hp_150 = { frame = bar_fight_leopold_hp_bar^14 }
			bar_pen_fight_leopold_hp_160 = { frame = bar_fight_leopold_hp_bar^15 }
			bar_pen_fight_leopold_hp_170 = { frame = bar_fight_leopold_hp_bar^16 }
			bar_pen_fight_leopold_hp_180 = { frame = bar_fight_leopold_hp_bar^17 }
			bar_pen_fight_leopold_hp_190 = { frame = bar_fight_leopold_hp_bar^18 }
			bar_pen_fight_leopold_hp_200 = { frame = bar_fight_leopold_hp_bar^19 }
			bar_pen_fight_leopold_hp_210 = { frame = bar_fight_leopold_hp_bar^20 }
			bar_pen_fight_leopold_hp_220 = { frame = bar_fight_leopold_hp_bar^21 }

			bar_pen_fight_leopold_in_1 = { frame = bar_fight_leopold_initiative_bar^0 }
			bar_pen_fight_leopold_in_2 = { frame = bar_fight_leopold_initiative_bar^1 }
			bar_pen_fight_leopold_in_3 = { frame = bar_fight_leopold_initiative_bar^2 }
			bar_pen_fight_leopold_in_4 = { frame = bar_fight_leopold_initiative_bar^3 }
			bar_pen_fight_leopold_in_5 = { frame = bar_fight_leopold_initiative_bar^4 }
			bar_pen_fight_leopold_in_6 = { frame = bar_fight_leopold_initiative_bar^5 }
			bar_pen_fight_leopold_in_7 = { frame = bar_fight_leopold_initiative_bar^6 }
			bar_pen_fight_leopold_in_8 = { frame = bar_fight_leopold_initiative_bar^7 }
			bar_pen_fight_leopold_in_9 = { frame = bar_fight_leopold_initiative_bar^8 }
			bar_pen_fight_leopold_in_10 = { frame = bar_fight_leopold_initiative_bar^9 }
		}
	}
	bar_pentarchy_fight_asinti = {
		window_name = "bar_pentarchy_fight_asinti_window"
		parent_window_name = "bar_pentarchy_fight_window"
		dirty = bar_pentarchy_fight_show
		context_type = player_context
		visible = {
			has_variable = bar_pentarchy_fight_show
			has_variable = bar_pen_fight_asinti_alive_at_start
			tag = BAR
		}
		triggers = {
			bar_pen_fight_asinti_portrait_click_enabled = {
				has_country_flag = barrad_asinti_alive
			}
			bar_asinti_normal_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_asinti_alive
				check_variable = {
					a_in > 0
				}
			}
			bar_asinti_curse_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_asinti_alive
				check_variable = {
					a_in > 1
				}
				check_variable = {
					BAR_resources_asinti > 49
				}
			}
			bar_asinti_party_heal_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_asinti_alive
				check_variable = {
					a_in > 1
				}
				check_variable = {
					BAR_resources_asinti > 99
				}
			}
		}
		effects = {
			bar_pen_fight_asinti_portrait_click = {
				bar_viira_fight_deal_dmg_asinti = yes
				BAR_silver_heal_asinti = yes
			}
			bar_asinti_normal_attack_click = {
				BAR_pen_fight_asinti_normal_attack = yes
			}
			bar_asinti_curse_click = {
				BAR_pen_fight_asinti_debuf = yes
			}
			bar_asinti_party_heal_click = {
				BAR_pen_fight_asinti_heal = yes
			}
		}
		properties = {			
			bar_pen_fight_asinti_hp_10 = { frame = bar_fight_asinti_hp_bar^0 }
			bar_pen_fight_asinti_hp_20 = { frame = bar_fight_asinti_hp_bar^1 }
			bar_pen_fight_asinti_hp_30 = { frame = bar_fight_asinti_hp_bar^2 }
			bar_pen_fight_asinti_hp_40 = { frame = bar_fight_asinti_hp_bar^3 }
			bar_pen_fight_asinti_hp_50 = { frame = bar_fight_asinti_hp_bar^4 }
			bar_pen_fight_asinti_hp_60 = { frame = bar_fight_asinti_hp_bar^5 }
			bar_pen_fight_asinti_hp_70 = { frame = bar_fight_asinti_hp_bar^6 }
			bar_pen_fight_asinti_hp_80 = { frame = bar_fight_asinti_hp_bar^7 }
			bar_pen_fight_asinti_hp_90 = { frame = bar_fight_asinti_hp_bar^8 }
			bar_pen_fight_asinti_hp_100 = { frame = bar_fight_asinti_hp_bar^9 }
			bar_pen_fight_asinti_hp_110 = { frame = bar_fight_asinti_hp_bar^10 }
			bar_pen_fight_asinti_hp_120 = { frame = bar_fight_asinti_hp_bar^11 }
			bar_pen_fight_asinti_hp_130 = { frame = bar_fight_asinti_hp_bar^12 }
			bar_pen_fight_asinti_hp_140 = { frame = bar_fight_asinti_hp_bar^13 }
			bar_pen_fight_asinti_hp_150 = { frame = bar_fight_asinti_hp_bar^14 }
			bar_pen_fight_asinti_hp_160 = { frame = bar_fight_asinti_hp_bar^15 }
			bar_pen_fight_asinti_hp_170 = { frame = bar_fight_asinti_hp_bar^16 }
			bar_pen_fight_asinti_hp_180 = { frame = bar_fight_asinti_hp_bar^17 }
			bar_pen_fight_asinti_hp_190 = { frame = bar_fight_asinti_hp_bar^18 }

			bar_pen_fight_asinti_in_1 = { frame = bar_fight_asinti_initiative_bar^0 }
			bar_pen_fight_asinti_in_2 = { frame = bar_fight_asinti_initiative_bar^1 }
			bar_pen_fight_asinti_in_3 = { frame = bar_fight_asinti_initiative_bar^2 }
			bar_pen_fight_asinti_in_4 = { frame = bar_fight_asinti_initiative_bar^3 }
			bar_pen_fight_asinti_in_5 = { frame = bar_fight_asinti_initiative_bar^4 }
			bar_pen_fight_asinti_in_6 = { frame = bar_fight_asinti_initiative_bar^5 }
			bar_pen_fight_asinti_in_7 = { frame = bar_fight_asinti_initiative_bar^6 }
			bar_pen_fight_asinti_in_8 = { frame = bar_fight_asinti_initiative_bar^7 }
			bar_pen_fight_asinti_in_9 = { frame = bar_fight_asinti_initiative_bar^8 }
			bar_pen_fight_asinti_in_10 = { frame = bar_fight_asinti_initiative_bar^9 }
		}
	}

	bar_pentarchy_fight_silver = {
		window_name = "bar_pentarchy_fight_silver_window"
		parent_window_name = "bar_pentarchy_fight_window"
		dirty = bar_pentarchy_fight_show
		context_type = player_context
		visible = {
			has_variable = bar_pentarchy_fight_show
			has_variable = bar_pen_fight_silver_alive_at_start
			tag = BAR
		}
		triggers = {
			bar_pen_fight_silver_portrait_click_enabled = {
				has_country_flag = barrad_silver_star_alive
			}
			bar_silver_normal_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_silver_star_alive
				check_variable = {
					s_in > 0
				}
			}
			bar_silver_lifesteal_attack_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_silver_star_alive
				check_variable = {
					s_in > 1
				}
				check_variable = {
					BAR_resources_silver > 49
				}
			}
			bar_silver_heal_click_enabled = {
				has_country_flag = bar_fight_pentarchy_side
				has_country_flag = barrad_silver_star_alive
				check_variable = {
					s_in > 1
				}
				check_variable = {
					BAR_resources_silver > 99
				}
			}
		}
		effects = {
			bar_pen_fight_silver_portrait_click = {
				bar_viira_fight_deal_dmg_silver = yes
				BAR_silver_heal_silver = yes
			}
			bar_silver_normal_attack_click = {
				BAR_pen_fight_silver_normal_attack = yes
			}
			bar_silver_lifesteal_attack_click = {
				BAR_pen_fight_silver_lifesteal_attack = yes
			}
			bar_silver_heal_click = {
				BAR_silver_heal = yes
			}
		}
		properties = {
			bar_pen_fight_silver_star_hp_10 = { frame = bar_fight_silver_star_hp_bar^0 }
			bar_pen_fight_silver_star_hp_20 = { frame = bar_fight_silver_star_hp_bar^1 }
			bar_pen_fight_silver_star_hp_30 = { frame = bar_fight_silver_star_hp_bar^2 }
			bar_pen_fight_silver_star_hp_40 = { frame = bar_fight_silver_star_hp_bar^3 }
			bar_pen_fight_silver_star_hp_50 = { frame = bar_fight_silver_star_hp_bar^4 }
			bar_pen_fight_silver_star_hp_60 = { frame = bar_fight_silver_star_hp_bar^5 }
			bar_pen_fight_silver_star_hp_70 = { frame = bar_fight_silver_star_hp_bar^6 }
			bar_pen_fight_silver_star_hp_80 = { frame = bar_fight_silver_star_hp_bar^7 }
			bar_pen_fight_silver_star_hp_90 = { frame = bar_fight_silver_star_hp_bar^8 }
			bar_pen_fight_silver_star_hp_100 = { frame = bar_fight_silver_star_hp_bar^9 }
			bar_pen_fight_silver_star_hp_110 = { frame = bar_fight_silver_star_hp_bar^10 }
			bar_pen_fight_silver_star_hp_120 = { frame = bar_fight_silver_star_hp_bar^11 }
			bar_pen_fight_silver_star_hp_130 = { frame = bar_fight_silver_star_hp_bar^12 }
			bar_pen_fight_silver_star_hp_140 = { frame = bar_fight_silver_star_hp_bar^13 }
			bar_pen_fight_silver_star_hp_150 = { frame = bar_fight_silver_star_hp_bar^14 }
			bar_pen_fight_silver_star_hp_160 = { frame = bar_fight_silver_star_hp_bar^15 }
			bar_pen_fight_silver_star_hp_170 = { frame = bar_fight_silver_star_hp_bar^16 }

			bar_pen_fight_silver_star_in_1 = { frame = bar_fight_silver_star_initiative_bar^0 }
			bar_pen_fight_silver_star_in_2 = { frame = bar_fight_silver_star_initiative_bar^1 }
			bar_pen_fight_silver_star_in_3 = { frame = bar_fight_silver_star_initiative_bar^2 }
			bar_pen_fight_silver_star_in_4 = { frame = bar_fight_silver_star_initiative_bar^3 }
			bar_pen_fight_silver_star_in_5 = { frame = bar_fight_silver_star_initiative_bar^4 }
			bar_pen_fight_silver_star_in_6 = { frame = bar_fight_silver_star_initiative_bar^5 }
			bar_pen_fight_silver_star_in_7 = { frame = bar_fight_silver_star_initiative_bar^6 }
			bar_pen_fight_silver_star_in_8 = { frame = bar_fight_silver_star_initiative_bar^7 }
			bar_pen_fight_silver_star_in_9 = { frame = bar_fight_silver_star_initiative_bar^8 }
			bar_pen_fight_silver_star_in_10 = { frame = bar_fight_silver_star_initiative_bar^9 }
		}
	}

	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################
	###############################################

	bar_silver_star_decisions_gui = {
		window_name = "bar_silver_star_decisions_gui_container"
		context_type = decision_category
	}	
	bar_leopold_decisions_gui = {
		window_name = "bar_leopold_decisions_gui_container"
		context_type = decision_category
	}	
	bar_asinti_decisions_gui = {
		window_name = "bar_asinti_decisions_gui_container"
		context_type = decision_category
	}	
	bar_viira_decisions_gui = {
		window_name = "bar_viira_decisions_gui_container"
		context_type = decision_category
	}
	bar_expedition_decisions_gui = {
		window_name = "bar_expedition_decisions_gui_container"
		context_type = decision_category
		effects = {
			bar_expedition_open_window_button_click = {
				if = {
					limit = {
						has_variable = bar_expedition_show
					}
					clear_variable = bar_expedition_show
				} else = {
					set_variable = {
						bar_expedition_show = 1
					}
				}
			}
		}
	}


	# @var bar_expedition_members array{
	# 	0 => gÄ…sienica
	# 	1 => silver star
	# 	2 => leopold
	# 	3 => asinti
	# 	4 => viira
	# } 
	# each field contains either 1 (character not selected) or 2 (character selected) 
	#
	# @var bar_expedition_equipment_level int in range 100-1000
	# represents infrantry equipment needed
	#
	# @var bar_expedition_length int in range 1-10
	# represents number of weeks the expedition takes
	#
	# @var bar_expedition_target 
	# specifies which country has been selected as a expedition target
	#
	# @var bar_expedition_success_chance
	# @var bar_expedition_success_chance_bonus
	# @var bar_expedition_peril
	# @var bar_expedition_cohesion
	bar_expedition_container = {
		window_name = "bar_expedition_container"
		context_type = player_context
		dirty = bar_expedition_show
		visible = {
			has_variable = bar_expedition_show
		}
		properties = {
			bar_expedition_members_captain_gasienica_frame = { frame = bar_expedition_members^0 }
			bar_expedition_members_silver_star_frame = { frame = bar_expedition_members^1 }
			bar_expedition_members_leopold_frame = { frame = bar_expedition_members^2 }
			bar_expedition_members_asinti_frame = { frame = bar_expedition_members^3 }
			bar_expedition_members_viira_frame = { frame = bar_expedition_members^4 }
		}
		triggers = {
			bar_expedition_launch_click_enabled = {
				BAR_expedition_can_be_launched = yes
			}
			bar_expedition_members_silver_star_click_enabled = {
				has_country_flag = barrad_silver_star_alive
			}
			bar_expedition_members_leopold_click_enabled = {
				has_country_flag = barrad_leopold_alive
			}
			bar_expedition_members_asinti_click_enabled = {
				has_country_flag = barrad_asinti_alive
			}
			bar_expedition_members_viira_click_enabled = {
				has_country_flag = barrad_viira_alive
			}
		}
		effects = {
			bar_expedition_members_captain_gasienica_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_members^0 = 1
						}
					}
					set_variable = {
						bar_expedition_members^0 = 2
					}
					bar_expedition_adding_members_effects = yes
				} else = {
					set_variable = {
						bar_expedition_members^0 = 1
					}
					bar_expedition_removing_members_effects = yes
				}
				bar_recalculate_expedition = yes
			}			
			bar_expedition_members_silver_star_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_members^1 = 1
						}
					}
					set_variable = {
						bar_expedition_members^1 = 2
					}
					bar_expedition_adding_members_effects = yes
				} else = {
					set_variable = {
						bar_expedition_members^1 = 1
					}
					bar_expedition_removing_members_effects = yes
				}
				bar_recalculate_expedition = yes
			}		
			bar_expedition_members_leopold_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_members^2 = 1
						}
					}
					set_variable = {
						bar_expedition_members^2 = 2
					}
					bar_expedition_adding_members_effects = yes
				} else = {
					set_variable = {
						bar_expedition_members^2 = 1
					}
					bar_expedition_removing_members_effects = yes
				}
				bar_recalculate_expedition = yes
			}		
			bar_expedition_members_asinti_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_members^3 = 1
						}
					}
					set_variable = {
						bar_expedition_members^3 = 2
					}
					bar_expedition_adding_members_effects = yes
				} else = {
					set_variable = {
						bar_expedition_members^3 = 1
					}
					bar_expedition_removing_members_effects = yes
				}
				bar_recalculate_expedition = yes
			}		
			bar_expedition_members_viira_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_members^4 = 1
						}
					}
					set_variable = {
						bar_expedition_members^4 = 2
					}
					bar_expedition_adding_members_effects = yes
				} else = {
					set_variable = {
						bar_expedition_members^4 = 1
					}
					bar_expedition_removing_members_effects = yes
				}
				bar_recalculate_expedition = yes
			}	
			bar_expedition_length_increase_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_length < 10
						}
					}
					add_to_variable = {
						bar_expedition_length = 1
					}
				}
				bar_recalculate_expedition = yes
			}
			bar_expedition_length_decrease_click = {
				if = {
					limit = {
						check_variable = {
							bar_expedition_length > 1
						}
					}
					subtract_from_variable = {
						bar_expedition_length = 1
					}
				}
				bar_recalculate_expedition = yes
			}	
			bar_expedition_additional_equipment_increase_click = {
				bar_expedition_additional_equipment_increase = yes
			}
			bar_expedition_additional_equipment_decrease_click = {
				bar_expedition_additional_equipment_decrease = yes
			}
			bar_expedition_exit_click = {
				clear_variable = bar_expedition_show
			}
			bar_expedition_launch_click = {
				if = {
					limit = {
						BAR_expedition_can_be_launched = yes
					}
					set_variable = {
						bar_expedition_phase_length = 21
					}
					activate_mission = BAR_expedition_progresses
					set_variable = { bar_expedition_week = 0 }
					set_country_flag = bar_expedition_launched
					add_to_variable = {
						bar_expedition_success_chance = bar_expedition_success_chance_bonus
					}
				}
			}
			bar_expedition_select_target_click = {
				set_variable = { bar_expedition_target = bar_expedition_selected_tag }
				if = {
					limit = {
						var:bar_expedition_target = {
							has_stability < 0.66
						}
					}
					set_variable = {
						bar_expedition_success_chance_bonus = 10
					}
				} else = {
					set_variable = {
						bar_expedition_success_chance_bonus = 0
					}
				}
				bar_recalculate_expedition = yes
			}
		}
		dynamic_lists = {
			bar_expedition_controls_targets_list = {
				array = neighbors
				change_scope = no
				entry_container = "bar_expedition_targets"
				value = bar_expedition_selected_tag
			}
		}
	}	
	
	bar_ending_dialogue_controlls_container = {
		window_name = "bar_ending_dialogue_controlls_container"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			has_variable = bar_final_dialogue
		}
		effects = {
			bar_ending_dialogue_line_next_click = {
				if = {
					limit = {
						check_variable = {
							bar_final_dialogue < 30
						}
					}
					add_to_variable = { bar_final_dialogue = 1 }
				} else = {
					clear_variable = bar_final_dialogue
					increase_society_development_gradual = yes
					set_party_name = {
						ideology = neutrality
						name = BAR_barradian_army
						long_name = BAR_barradian_army
					}
					set_party_name = {
						ideology = democratic
						name = BAR_fascism_party
						long_name = BAR_fascism_party
					}
					add_country_leader_role = {
						character = BAR_gasienica
						promote_leader = yes
						country_leader = {
							expire = "1965.1.1"
							ideology = oligarchism
						}
					}
					set_politics = {
						ruling_party = democratic
					}	
					add_country_leader_role = {
						character = BAR_silver_star
						promote_leader = yes
						country_leader = {
							expire = "1965.1.1"
							ideology = harmonic_magocracy
						}
					}
				}
			}
		}
	}	
	bar_ending_dialogue_line_1 = {
		window_name = "bar_ending_dialogue_line_1"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 1
			}
		}
	}
	bar_ending_dialogue_line_2 = {
		window_name = "bar_ending_dialogue_line_2"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 2
				}
				check_variable = {
					bar_final_dialogue = 3
				}
			}
		}
	}
	bar_ending_dialogue_line_3 = {
		window_name = "bar_ending_dialogue_line_3"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 3
			}
		}
	}
	bar_ending_dialogue_line_4 = {
		window_name = "bar_ending_dialogue_line_4"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 4
				}
				check_variable = {
					bar_final_dialogue = 5
				}
			}	
		}
	}
	bar_ending_dialogue_line_5 = {
		window_name = "bar_ending_dialogue_line_5"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 5
			}
		}
	}
	bar_ending_dialogue_line_6 = {
		window_name = "bar_ending_dialogue_line_6"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 6
			}
		}
	}
	bar_ending_dialogue_line_7 = {
		window_name = "bar_ending_dialogue_line_7"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 7
				}
				check_variable = {
					bar_final_dialogue = 8
				}
				check_variable = {
					bar_final_dialogue = 9
				}
			}
		}
	}
	bar_ending_dialogue_line_8 = {
		window_name = "bar_ending_dialogue_line_8"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 8
				}
				check_variable = {
					bar_final_dialogue = 9
				}
			}
		}
	}
	bar_ending_dialogue_line_9 = {
		window_name = "bar_ending_dialogue_line_9"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 9
			}
		}
	}
	bar_ending_dialogue_line_10 = {
		window_name = "bar_ending_dialogue_line_10"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 10
			}
		}
	}
	bar_ending_dialogue_line_11 = {
		window_name = "bar_ending_dialogue_line_11"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 11
				}
				check_variable = {
					bar_final_dialogue = 12
				}
				check_variable = {
					bar_final_dialogue = 13
				}
			}
		}
	}
	bar_ending_dialogue_line_12 = {
		window_name = "bar_ending_dialogue_line_12"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 12
				}
				check_variable = {
					bar_final_dialogue = 13
				}
			}
		}
	}
	bar_ending_dialogue_line_13 = {
		window_name = "bar_ending_dialogue_line_13"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 13
			}
		}
	}
	bar_ending_dialogue_line_14 = {
		window_name = "bar_ending_dialogue_line_14"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 14
				}
				check_variable = {
					bar_final_dialogue = 15
				}
			}
		}
	}
	bar_ending_dialogue_line_15 = {
		window_name = "bar_ending_dialogue_line_15"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 15
			}
		}
	}
	bar_ending_dialogue_line_16 = {
		window_name = "bar_ending_dialogue_line_16"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 16
				}
				check_variable = {
					bar_final_dialogue = 17
				}
				check_variable = {
					bar_final_dialogue = 18
				}
			}
		}
	}
	bar_ending_dialogue_line_17 = {
		window_name = "bar_ending_dialogue_line_17"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 17
				}
				check_variable = {
					bar_final_dialogue = 18
				}
			}
		}
	}
	bar_ending_dialogue_line_18 = {
		window_name = "bar_ending_dialogue_line_18"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 18
			}
		}
	}
	bar_ending_dialogue_line_19 = {
		window_name = "bar_ending_dialogue_line_19"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 19
				}
				check_variable = {
					bar_final_dialogue = 20
				}
				check_variable = {
					bar_final_dialogue = 21
				}
			}
		}
	}
	bar_ending_dialogue_line_20 = {
		window_name = "bar_ending_dialogue_line_20"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 20
				}
				check_variable = {
					bar_final_dialogue = 21
				}
			}
		}
	}
	bar_ending_dialogue_line_21 = {
		window_name = "bar_ending_dialogue_line_21"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 21
			}
		}
	}
	bar_ending_dialogue_line_22 = {
		window_name = "bar_ending_dialogue_line_22"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 22
				}
				check_variable = {
					bar_final_dialogue = 23
				}
				check_variable = {
					bar_final_dialogue = 24
				}
			}
		}
	}
	bar_ending_dialogue_line_23 = {
		window_name = "bar_ending_dialogue_line_23"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 23
				}
				check_variable = {
					bar_final_dialogue = 24
				}
			}
		}
	}
	bar_ending_dialogue_line_24 = {
		window_name = "bar_ending_dialogue_line_24"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 24
			}
		}
	}
	bar_ending_dialogue_line_25 = {
		window_name = "bar_ending_dialogue_line_25"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 25
			}
		}
	}
	bar_ending_dialogue_line_26 = {
		window_name = "bar_ending_dialogue_line_26"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 26
				}
				check_variable = {
					bar_final_dialogue = 27
				}
			}
		}
	}
	bar_ending_dialogue_line_27 = {
		window_name = "bar_ending_dialogue_line_27"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 27
			}
		}
	}
	bar_ending_dialogue_line_28 = {
		window_name = "bar_ending_dialogue_line_28"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 28
			}
		}
	}
	bar_ending_dialogue_line_29 = {
		window_name = "bar_ending_dialogue_line_29"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			OR = {
				check_variable = {
					bar_final_dialogue = 29
				}
				check_variable = {
					bar_final_dialogue = 30
				}
			}
		}
	}
	bar_ending_dialogue_line_30 = {
		window_name = "bar_ending_dialogue_line_30"
		dirty = bar_final_dialogue
		context_type = player_context
		visible = {
			check_variable = {
				bar_final_dialogue = 30
			}
		}
	}
}

